{"ast":null,"code":"import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\nexport var useWaitTransitionFinish = function useWaitTransitionFinish() {\n  var timeoutRef = React.useRef(null);\n  var waitTransitionFinish = function waitTransitionFinish(element, eventHandler, durationFallback) {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef !== null && timeoutRef !== void 0 && timeoutRef.current) {\n          clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n  return {\n    waitTransitionFinish: waitTransitionFinish\n  };\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT;AAEA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;EAC3C,IAAMC,UAAU,GAAGH,KAAK,CAACI,MAAN,CAAmD,IAAnD,CAAnB;EAEA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAC3BC,OAD2B,EAE3BC,YAF2B,EAG3BC,gBAH2B,EAIxB;IACH,IAAIF,OAAJ,EAAa;MACX,IAAIL,eAAe,CAACQ,SAAhB,IAA6BR,eAAe,CAACS,IAAjD,EAAuD;QACrDJ,OAAO,CAACK,mBAAR,CAA4BV,eAAe,CAACS,IAA5C,EAAkDH,YAAlD;QACAD,OAAO,CAACM,gBAAR,CAAyBX,eAAe,CAACS,IAAzC,EAA+CH,YAA/C;MACD,CAHD,MAGO;QACL,IAAIJ,UAAJ,aAAIA,UAAJ,eAAIA,UAAU,CAAEU,OAAhB,EAAyB;UACvBC,YAAY,CAACX,UAAU,CAACU,OAAZ,CAAZ;QACD;QACDV,UAAU,CAACU,OAAX,GAAqBE,UAAU,CAACR,YAAD,EAAeC,gBAAf,CAA/B;MACD;IACF;EACF,CAhBD;EAkBA,OAAO;IACLH,oBAAoB,EAApBA;EADK,CAAP;AAGD,CAxBM","names":["React","transitionEvent","useWaitTransitionFinish","timeoutRef","useRef","waitTransitionFinish","element","eventHandler","durationFallback","supported","name","removeEventListener","addEventListener","current","clearTimeout","setTimeout"],"sources":["C:\\Users\\zpili\\Desktop\\Finbox-VK-mini-apps\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\hooks\\useWaitTransitionFinish.ts"],"sourcesContent":["import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\n\nexport const useWaitTransitionFinish = () => {\n  const timeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const waitTransitionFinish = (\n    element: HTMLElement | null,\n    eventHandler: VoidFunction,\n    durationFallback: number\n  ) => {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef?.current) {\n          clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n\n  return {\n    waitTransitionFinish,\n  };\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}