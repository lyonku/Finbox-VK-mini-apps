{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { createScopedElement } from \"../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { AdaptivityContext, SizeType, ViewHeight, ViewWidth } from \"../components/AdaptivityProvider/AdaptivityContext\";\nexport { SizeType, ViewWidth, ViewHeight };\nexport function withAdaptivity(TargetComponent, config) {\n  var AdaptivityConsumer = function AdaptivityConsumer(props) {\n    var context = React.useContext(AdaptivityContext);\n    var update = false;\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n    var sizeX = props.sizeX || context.sizeX;\n    var sizeY = props.sizeY || context.sizeY;\n    var viewWidth = context.viewWidth;\n    var viewHeight = context.viewHeight;\n    var hasMouse = context.hasMouse;\n    var deviceHasHover = context.deviceHasHover;\n    var adaptivityProps = {};\n    config.sizeX ? adaptivityProps.sizeX = sizeX : undefined;\n    config.sizeY ? adaptivityProps.sizeY = sizeY : undefined;\n    config.viewWidth ? adaptivityProps.viewWidth = viewWidth : undefined;\n    config.viewHeight ? adaptivityProps.viewHeight = viewHeight : undefined;\n    config.hasMouse ? adaptivityProps.hasMouse = hasMouse : undefined;\n    config.deviceHasHover ? adaptivityProps.deviceHasHover = deviceHasHover : undefined;\n    var target = createScopedElement(TargetComponent, _extends({}, props, adaptivityProps));\n    if (update) {\n      return createScopedElement(AdaptivityContext.Provider, {\n        value: {\n          sizeX: sizeX,\n          sizeY: sizeY,\n          viewWidth: viewWidth,\n          viewHeight: viewHeight,\n          hasMouse: hasMouse,\n          deviceHasHover: deviceHasHover\n        }\n      }, target);\n    }\n    return target;\n  };\n  return AdaptivityConsumer;\n}","map":{"version":3,"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SACEC,iBADF,EAEEC,QAFF,EAGEC,UAHF,EAIEC,SAJF;AAUA,SAASF,QAAT,EAAmBE,SAAnB,EAA8BD,UAA9B;AAYA,OAAO,SAASE,cAAT,CACLC,eADK,EAELC,MAFK,EAG4D;EACjE,IAAMC,kBAEL,GAAG,SAFEA,kBAEF,CAACC,KAAD,EAAkE;IACpE,IAAMC,OAAO,GAAGV,KAAK,CAACW,UAAN,CAAiBV,iBAAjB,CAAhB;IACA,IAAIW,MAAM,GAAG,KAAb;IAEA,IAAIH,KAAK,CAACI,KAAN,IAAeJ,KAAK,CAACK,KAAzB,EAAgC;MAC9BF,MAAM,GAAG,IAAT;IACD;IAED,IAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAN,IAAeH,OAAO,CAACG,KAArC;IACA,IAAMC,KAAK,GAAGL,KAAK,CAACK,KAAN,IAAeJ,OAAO,CAACI,KAArC;IACA,IAAMC,SAAS,GAAGL,OAAO,CAACK,SAA1B;IACA,IAAMC,UAAU,GAAGN,OAAO,CAACM,UAA3B;IACA,IAAMC,QAAQ,GAAGP,OAAO,CAACO,QAAzB;IACA,IAAMC,cAAc,GAAGR,OAAO,CAACQ,cAA/B;IAEA,IAAMC,eAOL,GAAG,EAPJ;IASAZ,MAAM,CAACM,KAAP,GAAgBM,eAAe,CAACN,KAAhB,GAAwBA,KAAxC,GAAiDO,SAAjD;IACAb,MAAM,CAACO,KAAP,GAAgBK,eAAe,CAACL,KAAhB,GAAwBA,KAAxC,GAAiDM,SAAjD;IACAb,MAAM,CAACQ,SAAP,GAAoBI,eAAe,CAACJ,SAAhB,GAA4BA,SAAhD,GAA6DK,SAA7D;IACAb,MAAM,CAACS,UAAP,GAAqBG,eAAe,CAACH,UAAhB,GAA6BA,UAAlD,GAAgEI,SAAhE;IACAb,MAAM,CAACU,QAAP,GAAmBE,eAAe,CAACF,QAAhB,GAA2BA,QAA9C,GAA0DG,SAA1D;IACAb,MAAM,CAACW,cAAP,GACKC,eAAe,CAACD,cAAhB,GAAiCA,cADtC,GAEIE,SAFJ;IAIA,IAAMC,MAAM,GAAGC,oBAAChB,eAAD,eAAsBG,KAAtB,EAAuCU,eAAvC,EAAf;IAEA,IAAIP,MAAJ,EAAY;MACV,OACEU,oBAACrB,iBAAD,CAAmBsB,QAAnB;QACEC,KAAK,EAAE;UACLX,KAAK,EAALA,KADK;UAELC,KAAK,EAALA,KAFK;UAGLC,SAAS,EAATA,SAHK;UAILC,UAAU,EAAVA,UAJK;UAKLC,QAAQ,EAARA,QALK;UAMLC,cAAc,EAAdA;QANK;MADT,GAUGG,MAVH,CADF;IAcD;IAED,OAAOA,MAAP;EACD,CAvDD;EAyDA,OAAOb,kBAAP;AACD","names":["React","AdaptivityContext","SizeType","ViewHeight","ViewWidth","withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","useContext","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","deviceHasHover","adaptivityProps","undefined","target","createScopedElement","Provider","value"],"sources":["C:\\Users\\zpili\\Desktop\\Finbox-VK-mini-apps\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\hoc\\withAdaptivity.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  AdaptivityContext,\n  SizeType,\n  ViewHeight,\n  ViewWidth,\n  AdaptivityContextInterface,\n  AdaptivityProps,\n  SizeProps,\n} from \"../components/AdaptivityProvider/AdaptivityContext\";\n\nexport { SizeType, ViewWidth, ViewHeight };\nexport type { AdaptivityProps };\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n  deviceHasHover?: boolean;\n}\n\nexport function withAdaptivity<T extends AdaptivityProps>(\n  TargetComponent: React.ComponentType<T>,\n  config: Config\n): React.FC<Omit<T, keyof AdaptivityContextInterface> & SizeProps> {\n  const AdaptivityConsumer: React.ComponentType<\n    Omit<T, keyof AdaptivityContextInterface> & SizeProps\n  > = (props: Omit<T, keyof AdaptivityContextInterface> & SizeProps) => {\n    const context = React.useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n    const deviceHasHover = context.deviceHasHover;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n      deviceHasHover?: boolean;\n    } = {};\n\n    config.sizeX ? (adaptivityProps.sizeX = sizeX) : undefined;\n    config.sizeY ? (adaptivityProps.sizeY = sizeY) : undefined;\n    config.viewWidth ? (adaptivityProps.viewWidth = viewWidth) : undefined;\n    config.viewHeight ? (adaptivityProps.viewHeight = viewHeight) : undefined;\n    config.hasMouse ? (adaptivityProps.hasMouse = hasMouse) : undefined;\n    config.deviceHasHover\n      ? (adaptivityProps.deviceHasHover = deviceHasHover)\n      : undefined;\n\n    const target = <TargetComponent {...(props as T)} {...adaptivityProps} />;\n\n    if (update) {\n      return (\n        <AdaptivityContext.Provider\n          value={{\n            sizeX,\n            sizeY,\n            viewWidth,\n            viewHeight,\n            hasMouse,\n            deviceHasHover,\n          }}\n        >\n          {target}\n        </AdaptivityContext.Provider>\n      );\n    }\n\n    return target;\n  };\n\n  return AdaptivityConsumer;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}