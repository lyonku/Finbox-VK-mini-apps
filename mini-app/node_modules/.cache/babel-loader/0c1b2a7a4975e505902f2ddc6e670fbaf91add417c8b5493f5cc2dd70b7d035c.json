{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from \"react\";\nimport { useBooleanState } from \"./useBooleanState\";\nimport { useGlobalEventListener } from \"./useGlobalEventListener\";\nimport { useDOM } from \"../lib/dom\";\nexport function useDateInput(_ref) {\n  var maxElement = _ref.maxElement,\n    refs = _ref.refs,\n    autoFocus = _ref.autoFocus,\n    disabled = _ref.disabled,\n    elementsConfig = _ref.elementsConfig,\n    onChange = _ref.onChange,\n    onInternalValueChange = _ref.onInternalValueChange,\n    getInternalValue = _ref.getInternalValue,\n    value = _ref.value;\n  var _useDOM = useDOM(),\n    document = _useDOM.document;\n  var _useBooleanState = useBooleanState(false),\n    open = _useBooleanState.value,\n    openCalendar = _useBooleanState.setTrue,\n    closeCalendar = _useBooleanState.setFalse;\n  var rootRef = React.useRef(null);\n  var calendarRef = React.useRef(null);\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    internalValue = _React$useState2[0],\n    setInternalValue = _React$useState2[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    focusedElement = _React$useState4[0],\n    setFocusedElement = _React$useState4[1];\n  var _useDOM2 = useDOM(),\n    window = _useDOM2.window;\n  var removeFocusFromField = React.useCallback(function () {\n    if (open) {\n      var _getSelection;\n      setFocusedElement(null);\n      closeCalendar();\n      (_getSelection = window.getSelection()) === null || _getSelection === void 0 ? void 0 : _getSelection.removeAllRanges();\n      setInternalValue(getInternalValue(value));\n    }\n  }, [closeCalendar, getInternalValue, open, value, window]);\n  var handleClickOutside = React.useCallback(function (e) {\n    var _rootRef$current, _calendarRef$current;\n    if (!((_rootRef$current = rootRef.current) !== null && _rootRef$current !== void 0 && _rootRef$current.contains(e.target)) && !((_calendarRef$current = calendarRef.current) !== null && _calendarRef$current !== void 0 && _calendarRef$current.contains(e.target))) {\n      removeFocusFromField();\n    }\n  }, [removeFocusFromField]);\n  var selectFirst = React.useCallback(function () {\n    setFocusedElement(0);\n  }, []);\n  useGlobalEventListener(document, \"click\", handleClickOutside, {\n    capture: true\n  });\n  React.useEffect(function () {\n    setInternalValue(getInternalValue(value));\n  }, [getInternalValue, value]);\n  React.useEffect(function () {\n    if (autoFocus) {\n      selectFirst();\n    }\n  }, [autoFocus, selectFirst]);\n  React.useEffect(function () {\n    if (disabled || focusedElement === null) {\n      return;\n    }\n    var range = window.document.createRange();\n    var element = refs[focusedElement].current;\n    if (element) {\n      element.focus();\n      openCalendar();\n      range.selectNodeContents(element);\n      var selection = window.getSelection();\n      selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n      selection === null || selection === void 0 ? void 0 : selection.addRange(range);\n    }\n  }, [disabled, focusedElement, openCalendar, refs, window]);\n  var clear = React.useCallback(function () {\n    onChange === null || onChange === void 0 ? void 0 : onChange(undefined);\n    selectFirst();\n  }, [onChange, selectFirst]);\n  var handleFieldEnter = React.useCallback(function () {\n    if (!open) {\n      selectFirst();\n    }\n  }, [open, selectFirst]);\n  var handleKeyDown = React.useCallback(function (e) {\n    if (focusedElement === null) {\n      return;\n    }\n    var _value = _toConsumableArray(internalValue);\n    var config = elementsConfig(focusedElement);\n    if (/^\\d+$/.test(e.key)) {\n      if (_value[focusedElement].length >= config.length) {\n        _value[focusedElement] = e.key;\n      } else {\n        _value[focusedElement] += e.key;\n        if (_value[focusedElement].length >= config.length && focusedElement < maxElement) {\n          setFocusedElement(focusedElement + 1);\n        }\n      }\n    } else if (e.key === \"Backspace\") {\n      if (!_value[focusedElement]) {\n        setFocusedElement(focusedElement <= 0 ? maxElement : focusedElement - 1);\n      } else {\n        _value[focusedElement] = _value[focusedElement].slice(0, -1);\n      }\n    } else if (e.key === \"ArrowDown\" || e.key === \"Down\") {\n      var currentValue = Number(_value[focusedElement]);\n      _value[focusedElement] = String(currentValue <= config.min ? config.max : currentValue - 1).padStart(config.length, \"0\");\n    } else if (e.key === \"ArrowUp\" || e.key === \"Up\") {\n      var _currentValue = Number(_value[focusedElement]);\n      _value[focusedElement] = String(_currentValue >= config.max ? config.min : _currentValue + 1).padStart(config.length, \"0\");\n    } else if (e.key === \"Enter\" || e.key === \"Tab\" && focusedElement === maxElement || e.key === \"Tab\" && e.shiftKey && focusedElement === 0) {\n      removeFocusFromField();\n      return;\n    } else if (e.key === \"ArrowLeft\" || e.key === \"Left\" || e.key === \"Tab\" && e.shiftKey) {\n      setFocusedElement(focusedElement <= 0 ? maxElement : focusedElement - 1);\n    } else if (e.key === \"ArrowRight\" || e.key === \"Right\" || e.key === \"Tab\") {\n      setFocusedElement(focusedElement >= maxElement ? 0 : focusedElement + 1);\n    } else if (e.key === \"Delete\" || e.key === \"Del\") {\n      _value[focusedElement] = \"\";\n    } else {\n      return;\n    }\n    e.preventDefault();\n    setInternalValue(_value);\n    onInternalValueChange(_value);\n  }, [elementsConfig, focusedElement, internalValue, maxElement, onInternalValueChange, removeFocusFromField]);\n  return {\n    rootRef: rootRef,\n    calendarRef: calendarRef,\n    open: open,\n    openCalendar: openCalendar,\n    closeCalendar: closeCalendar,\n    internalValue: internalValue,\n    focusedElement: focusedElement,\n    setFocusedElement: setFocusedElement,\n    handleKeyDown: handleKeyDown,\n    clear: clear,\n    handleFieldEnter: handleFieldEnter,\n    removeFocusFromField: removeFocusFromField\n  };\n}","map":{"version":3,"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT;AACA,SAASC,sBAAT;AACA,SAASC,MAAT;AAkBA,OAAO,SAASC,YAAT,OAU4B;EAAA,IATjCC,UASiC,QATjCA,UASiC;IARjCC,IAQiC,QARjCA,IAQiC;IAPjCC,SAOiC,QAPjCA,SAOiC;IANjCC,QAMiC,QANjCA,QAMiC;IALjCC,cAKiC,QALjCA,cAKiC;IAJjCC,QAIiC,QAJjCA,QAIiC;IAHjCC,qBAGiC,QAHjCA,qBAGiC;IAFjCC,gBAEiC,QAFjCA,gBAEiC;IADjCC,KACiC,QADjCA,KACiC;EACjC,cAAqBV,MAAM,EAA3B;IAAQW,QAAR,WAAQA,QAAR;EACA,uBAIIb,eAAe,CAAC,KAAD,CAJnB;IACSc,IADT,oBACEF,KADF;IAEWG,YAFX,oBAEEC,OAFF;IAGYC,aAHZ,oBAGEC,QAHF;EAKA,IAAMC,OAAO,GAAGpB,KAAK,CAACqB,MAAN,CAA6B,IAA7B,CAAhB;EACA,IAAMC,WAAW,GAAGtB,KAAK,CAACqB,MAAN,CAA6B,IAA7B,CAApB;EACA,sBAA0CrB,KAAK,CAACuB,QAAN,CAAyB,EAAzB,CAA1C;IAAAC;IAAOC,aAAP;IAAsBC,gBAAtB;EACA,uBAA4C1B,KAAK,CAACuB,QAAN,CAC1C,IAD0C,CAA5C;IAAAI;IAAOC,cAAP;IAAuBC,iBAAvB;EAGA,eAAmB1B,MAAM,EAAzB;IAAQ2B,MAAR,YAAQA,MAAR;EAEA,IAAMC,oBAAoB,GAAG/B,KAAK,CAACgC,WAAN,CAAkB,YAAM;IACnD,IAAIjB,IAAJ,EAAU;MAAA;MACRc,iBAAiB,CAAC,IAAD,CAAjB;MACAX,aAAa;MACb,uBAAM,CAAEe,YAAR,kEAAwBC,eAAxB;MACAR,gBAAgB,CAACd,gBAAgB,CAACC,KAAD,CAAjB,CAAhB;IACD;EACF,CAP4B,EAO1B,CAACK,aAAD,EAAgBN,gBAAhB,EAAkCG,IAAlC,EAAwCF,KAAxC,EAA+CiB,MAA/C,CAP0B,CAA7B;EASA,IAAMK,kBAAkB,GAAGnC,KAAK,CAACgC,WAAN,CACzB,UAACI,CAAD,EAAmB;IAAA;IACjB,IACE,sBAAChB,OAAO,CAACiB,OAAT,6CAACC,iBAAiBC,QAAjB,CAA0BH,CAAC,CAACI,MAA5B,CAAD,KACA,0BAAClB,WAAW,CAACe,OAAb,iDAACI,qBAAqBF,QAArB,CAA8BH,CAAC,CAACI,MAAhC,CAAD,CAFF,EAGE;MACAT,oBAAoB;IACrB;EACF,CARwB,EASzB,CAACA,oBAAD,CATyB,CAA3B;EAYA,IAAMW,WAAW,GAAG1C,KAAK,CAACgC,WAAN,CAAkB,YAAM;IAC1CH,iBAAiB,CAAC,CAAD,CAAjB;EACD,CAFmB,EAEjB,EAFiB,CAApB;EAIA3B,sBAAsB,CAACY,QAAD,EAAW,OAAX,EAAoBqB,kBAApB,EAAwC;IAC5DQ,OAAO,EAAE;EADmD,CAAxC,CAAtB;EAIA3C,KAAK,CAAC4C,SAAN,CAAgB,YAAM;IACpBlB,gBAAgB,CAACd,gBAAgB,CAACC,KAAD,CAAjB,CAAhB;EACD,CAFD,EAEG,CAACD,gBAAD,EAAmBC,KAAnB,CAFH;EAIAb,KAAK,CAAC4C,SAAN,CAAgB,YAAM;IACpB,IAAIrC,SAAJ,EAAe;MACbmC,WAAW;IACZ;EACF,CAJD,EAIG,CAACnC,SAAD,EAAYmC,WAAZ,CAJH;EAMA1C,KAAK,CAAC4C,SAAN,CAAgB,YAAM;IACpB,IAAIpC,QAAQ,IAAIoB,cAAc,KAAK,IAAnC,EAAyC;MACvC;IACD;IAED,IAAMiB,KAAK,GAAGf,MAAM,CAAEhB,QAAR,CAAiBgC,WAAjB,EAAd;IAEA,IAAIC,OAAO,GAAGzC,IAAI,CAACsB,cAAD,CAAJ,CAAqBS,OAAnC;IAEA,IAAIU,OAAJ,EAAa;MACXA,OAAO,CAACC,KAAR;MACAhC,YAAY;MACZ6B,KAAK,CAACI,kBAAN,CAAyBF,OAAzB;MAEA,IAAMG,SAAS,GAAGpB,MAAM,CAAEG,YAAR,EAAlB;MACAiB,SAAS,SAAT,aAAS,WAAT,qBAAS,CAAEhB,eAAX;MACAgB,SAAS,SAAT,aAAS,WAAT,qBAAS,CAAEC,QAAX,CAAoBN,KAApB;IACD;EACF,CAlBD,EAkBG,CAACrC,QAAD,EAAWoB,cAAX,EAA2BZ,YAA3B,EAAyCV,IAAzC,EAA+CwB,MAA/C,CAlBH;EAoBA,IAAMsB,KAAK,GAAGpD,KAAK,CAACgC,WAAN,CAAkB,YAAM;IACpCtB,QAAQ,SAAR,YAAQ,WAAR,oBAAQ,CAAG2C,SAAH,CAAR;IACAX,WAAW;EACZ,CAHa,EAGX,CAAChC,QAAD,EAAWgC,WAAX,CAHW,CAAd;EAKA,IAAMY,gBAAgB,GAAGtD,KAAK,CAACgC,WAAN,CAAkB,YAAM;IAC/C,IAAI,CAACjB,IAAL,EAAW;MACT2B,WAAW;IACZ;EACF,CAJwB,EAItB,CAAC3B,IAAD,EAAO2B,WAAP,CAJsB,CAAzB;EAMA,IAAMa,aAAa,GAAGvD,KAAK,CAACgC,WAAN,CACpB,UAACI,CAAD,EAA6C;IAC3C,IAAIR,cAAc,KAAK,IAAvB,EAA6B;MAC3B;IACD;IAED,IAAM4B,MAAM,sBAAO/B,aAAP,CAAZ;IACA,IAAMgC,MAAM,GAAGhD,cAAc,CAACmB,cAAD,CAA7B;IAEA,IAAI,QAAQ8B,IAAR,CAAatB,CAAC,CAACuB,GAAf,CAAJ,EAAyB;MACvB,IAAIH,MAAM,CAAC5B,cAAD,CAAN,CAAuBgC,MAAvB,IAAiCH,MAAM,CAACG,MAA5C,EAAoD;QAClDJ,MAAM,CAAC5B,cAAD,CAAN,GAAyBQ,CAAC,CAACuB,GAA3B;MACD,CAFD,MAEO;QACLH,MAAM,CAAC5B,cAAD,CAAN,IAA0BQ,CAAC,CAACuB,GAA5B;QACA,IACEH,MAAM,CAAC5B,cAAD,CAAN,CAAuBgC,MAAvB,IAAiCH,MAAM,CAACG,MAAxC,IACAhC,cAAc,GAAGvB,UAFnB,EAGE;UACAwB,iBAAiB,CAACD,cAAc,GAAG,CAAlB,CAAjB;QACD;MACF;IACF,CAZD,MAYO,IAAIQ,CAAC,CAACuB,GAAF,KAAU,WAAd,EAA2B;MAChC,IAAI,CAACH,MAAM,CAAC5B,cAAD,CAAX,EAA6B;QAC3BC,iBAAiB,CACfD,cAAc,IAAI,CAAlB,GAAsBvB,UAAtB,GAAmCuB,cAAc,GAAG,CADrC,CAAjB;MAGD,CAJD,MAIO;QACL4B,MAAM,CAAC5B,cAAD,CAAN,GAAyB4B,MAAM,CAAC5B,cAAD,CAAN,CAAuBiC,KAAvB,CAA6B,CAA7B,EAAgC,CAAC,CAAjC,CAAzB;MACD;IACF,CARM,MAQA,IAAIzB,CAAC,CAACuB,GAAF,KAAU,WAAV,IAAyBvB,CAAC,CAACuB,GAAF,KAAU,MAAvC,EAA+C;MACpD,IAAIG,YAAY,GAAGC,MAAM,CAACP,MAAM,CAAC5B,cAAD,CAAP,CAAzB;MACA4B,MAAM,CAAC5B,cAAD,CAAN,GAAyBoC,MAAM,CAC7BF,YAAY,IAAIL,MAAM,CAACQ,GAAvB,GAA6BR,MAAM,CAACS,GAApC,GAA0CJ,YAAY,GAAG,CAD5B,CAAN,CAEvBK,QAFuB,CAEdV,MAAM,CAACG,MAFO,EAEC,GAFD,CAAzB;IAGD,CALM,MAKA,IAAIxB,CAAC,CAACuB,GAAF,KAAU,SAAV,IAAuBvB,CAAC,CAACuB,GAAF,KAAU,IAArC,EAA2C;MAChD,IAAIG,aAAY,GAAGC,MAAM,CAACP,MAAM,CAAC5B,cAAD,CAAP,CAAzB;MACA4B,MAAM,CAAC5B,cAAD,CAAN,GAAyBoC,MAAM,CAC7BF,aAAY,IAAIL,MAAM,CAACS,GAAvB,GAA6BT,MAAM,CAACQ,GAApC,GAA0CH,aAAY,GAAG,CAD5B,CAAN,CAEvBK,QAFuB,CAEdV,MAAM,CAACG,MAFO,EAEC,GAFD,CAAzB;IAGD,CALM,MAKA,IACLxB,CAAC,CAACuB,GAAF,KAAU,OAAV,IACCvB,CAAC,CAACuB,GAAF,KAAU,KAAV,IAAmB/B,cAAc,KAAKvB,UADvC,IAEC+B,CAAC,CAACuB,GAAF,KAAU,KAAV,IAAmBvB,CAAC,CAACgC,QAArB,IAAiCxC,cAAc,KAAK,CAHhD,EAIL;MACAG,oBAAoB;MACpB;IACD,CAPM,MAOA,IACLK,CAAC,CAACuB,GAAF,KAAU,WAAV,IACAvB,CAAC,CAACuB,GAAF,KAAU,MADV,IAECvB,CAAC,CAACuB,GAAF,KAAU,KAAV,IAAmBvB,CAAC,CAACgC,QAHjB,EAIL;MACAvC,iBAAiB,CACfD,cAAc,IAAI,CAAlB,GAAsBvB,UAAtB,GAAmCuB,cAAc,GAAG,CADrC,CAAjB;IAGD,CARM,MAQA,IACLQ,CAAC,CAACuB,GAAF,KAAU,YAAV,IACAvB,CAAC,CAACuB,GAAF,KAAU,OADV,IAEAvB,CAAC,CAACuB,GAAF,KAAU,KAHL,EAIL;MACA9B,iBAAiB,CACfD,cAAc,IAAIvB,UAAlB,GAA+B,CAA/B,GAAmCuB,cAAc,GAAG,CADrC,CAAjB;IAGD,CARM,MAQA,IAAIQ,CAAC,CAACuB,GAAF,KAAU,QAAV,IAAsBvB,CAAC,CAACuB,GAAF,KAAU,KAApC,EAA2C;MAChDH,MAAM,CAAC5B,cAAD,CAAN,GAAyB,EAAzB;IACD,CAFM,MAEA;MACL;IACD;IAEDQ,CAAC,CAACiC,cAAF;IACA3C,gBAAgB,CAAC8B,MAAD,CAAhB;IACA7C,qBAAqB,CAAC6C,MAAD,CAArB;EACD,CAvEmB,EAwEpB,CACE/C,cADF,EAEEmB,cAFF,EAGEH,aAHF,EAIEpB,UAJF,EAKEM,qBALF,EAMEoB,oBANF,CAxEoB,CAAtB;EAkFA,OAAO;IACLX,OAAO,EAAPA,OADK;IAELE,WAAW,EAAXA,WAFK;IAGLP,IAAI,EAAJA,IAHK;IAILC,YAAY,EAAZA,YAJK;IAKLE,aAAa,EAAbA,aALK;IAMLO,aAAa,EAAbA,aANK;IAOLG,cAAc,EAAdA,cAPK;IAQLC,iBAAiB,EAAjBA,iBARK;IASL0B,aAAa,EAAbA,aATK;IAULH,KAAK,EAALA,KAVK;IAWLE,gBAAgB,EAAhBA,gBAXK;IAYLvB,oBAAoB,EAApBA;EAZK,CAAP;AAcD","names":["React","useBooleanState","useGlobalEventListener","useDOM","useDateInput","maxElement","refs","autoFocus","disabled","elementsConfig","onChange","onInternalValueChange","getInternalValue","value","document","open","openCalendar","setTrue","closeCalendar","setFalse","rootRef","useRef","calendarRef","useState","_React$useState2","internalValue","setInternalValue","_React$useState4","focusedElement","setFocusedElement","window","removeFocusFromField","useCallback","getSelection","removeAllRanges","handleClickOutside","e","current","_rootRef$current","contains","target","_calendarRef$current","selectFirst","capture","useEffect","range","createRange","element","focus","selectNodeContents","selection","addRange","clear","undefined","handleFieldEnter","handleKeyDown","_value","config","test","key","length","slice","currentValue","Number","String","min","max","padStart","shiftKey","preventDefault"],"sources":["C:\\Users\\zpili\\Desktop\\Finbox-VK-mini-apps\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\hooks\\useDateInput.ts"],"sourcesContent":["import * as React from \"react\";\nimport { useBooleanState } from \"./useBooleanState\";\nimport { useGlobalEventListener } from \"./useGlobalEventListener\";\nimport { useDOM } from \"../lib/dom\";\n\nexport interface UseDateInputDependencies<T, D> {\n  maxElement: number;\n  refs: Array<React.RefObject<T>>;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  value?: D;\n  elementsConfig(index: number): {\n    length: number;\n    min: number;\n    max: number;\n  };\n  onInternalValueChange(value: string[]): void;\n  getInternalValue(value?: D | undefined): string[];\n  onChange?(value?: D | undefined): void;\n}\n\nexport function useDateInput<T extends HTMLElement, D>({\n  maxElement,\n  refs,\n  autoFocus,\n  disabled,\n  elementsConfig,\n  onChange,\n  onInternalValueChange,\n  getInternalValue,\n  value,\n}: UseDateInputDependencies<T, D>) {\n  const { document } = useDOM();\n  const {\n    value: open,\n    setTrue: openCalendar,\n    setFalse: closeCalendar,\n  } = useBooleanState(false);\n  const rootRef = React.useRef<HTMLDivElement>(null);\n  const calendarRef = React.useRef<HTMLDivElement>(null);\n  const [internalValue, setInternalValue] = React.useState<string[]>([]);\n  const [focusedElement, setFocusedElement] = React.useState<number | null>(\n    null\n  );\n  const { window } = useDOM();\n\n  const removeFocusFromField = React.useCallback(() => {\n    if (open) {\n      setFocusedElement(null);\n      closeCalendar();\n      window!.getSelection()?.removeAllRanges();\n      setInternalValue(getInternalValue(value));\n    }\n  }, [closeCalendar, getInternalValue, open, value, window]);\n\n  const handleClickOutside = React.useCallback(\n    (e: MouseEvent) => {\n      if (\n        !rootRef.current?.contains(e.target as Node | null) &&\n        !calendarRef.current?.contains(e.target as Node | null)\n      ) {\n        removeFocusFromField();\n      }\n    },\n    [removeFocusFromField]\n  );\n\n  const selectFirst = React.useCallback(() => {\n    setFocusedElement(0);\n  }, []);\n\n  useGlobalEventListener(document, \"click\", handleClickOutside, {\n    capture: true,\n  });\n\n  React.useEffect(() => {\n    setInternalValue(getInternalValue(value));\n  }, [getInternalValue, value]);\n\n  React.useEffect(() => {\n    if (autoFocus) {\n      selectFirst();\n    }\n  }, [autoFocus, selectFirst]);\n\n  React.useEffect(() => {\n    if (disabled || focusedElement === null) {\n      return;\n    }\n\n    const range = window!.document.createRange();\n\n    let element = refs[focusedElement].current;\n\n    if (element) {\n      element.focus();\n      openCalendar();\n      range.selectNodeContents(element as Node);\n\n      const selection = window!.getSelection();\n      selection?.removeAllRanges();\n      selection?.addRange(range);\n    }\n  }, [disabled, focusedElement, openCalendar, refs, window]);\n\n  const clear = React.useCallback(() => {\n    onChange?.(undefined);\n    selectFirst();\n  }, [onChange, selectFirst]);\n\n  const handleFieldEnter = React.useCallback(() => {\n    if (!open) {\n      selectFirst();\n    }\n  }, [open, selectFirst]);\n\n  const handleKeyDown = React.useCallback(\n    (e: React.KeyboardEvent<HTMLSpanElement>) => {\n      if (focusedElement === null) {\n        return;\n      }\n\n      const _value = [...internalValue];\n      const config = elementsConfig(focusedElement);\n\n      if (/^\\d+$/.test(e.key)) {\n        if (_value[focusedElement].length >= config.length) {\n          _value[focusedElement] = e.key;\n        } else {\n          _value[focusedElement] += e.key;\n          if (\n            _value[focusedElement].length >= config.length &&\n            focusedElement < maxElement\n          ) {\n            setFocusedElement(focusedElement + 1);\n          }\n        }\n      } else if (e.key === \"Backspace\") {\n        if (!_value[focusedElement]) {\n          setFocusedElement(\n            focusedElement <= 0 ? maxElement : focusedElement - 1\n          );\n        } else {\n          _value[focusedElement] = _value[focusedElement].slice(0, -1);\n        }\n      } else if (e.key === \"ArrowDown\" || e.key === \"Down\") {\n        let currentValue = Number(_value[focusedElement]);\n        _value[focusedElement] = String(\n          currentValue <= config.min ? config.max : currentValue - 1\n        ).padStart(config.length, \"0\");\n      } else if (e.key === \"ArrowUp\" || e.key === \"Up\") {\n        let currentValue = Number(_value[focusedElement]);\n        _value[focusedElement] = String(\n          currentValue >= config.max ? config.min : currentValue + 1\n        ).padStart(config.length, \"0\");\n      } else if (\n        e.key === \"Enter\" ||\n        (e.key === \"Tab\" && focusedElement === maxElement) ||\n        (e.key === \"Tab\" && e.shiftKey && focusedElement === 0)\n      ) {\n        removeFocusFromField();\n        return;\n      } else if (\n        e.key === \"ArrowLeft\" ||\n        e.key === \"Left\" ||\n        (e.key === \"Tab\" && e.shiftKey)\n      ) {\n        setFocusedElement(\n          focusedElement <= 0 ? maxElement : focusedElement - 1\n        );\n      } else if (\n        e.key === \"ArrowRight\" ||\n        e.key === \"Right\" ||\n        e.key === \"Tab\"\n      ) {\n        setFocusedElement(\n          focusedElement >= maxElement ? 0 : focusedElement + 1\n        );\n      } else if (e.key === \"Delete\" || e.key === \"Del\") {\n        _value[focusedElement] = \"\";\n      } else {\n        return;\n      }\n\n      e.preventDefault();\n      setInternalValue(_value);\n      onInternalValueChange(_value);\n    },\n    [\n      elementsConfig,\n      focusedElement,\n      internalValue,\n      maxElement,\n      onInternalValueChange,\n      removeFocusFromField,\n    ]\n  );\n\n  return {\n    rootRef,\n    calendarRef,\n    open,\n    openCalendar,\n    closeCalendar,\n    internalValue,\n    focusedElement,\n    setFocusedElement,\n    handleKeyDown,\n    clear,\n    handleFieldEnter,\n    removeFocusFromField,\n  };\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}