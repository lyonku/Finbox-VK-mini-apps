{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"option\", \"children\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { setMonth, setYear, subMonths, addMonths } from \"date-fns\";\nimport { Icon20ChevronLeftOutline, Icon20ChevronRightOutline, Icon12Dropdown } from \"@vkontakte/icons\";\nimport Tappable from \"../Tappable/Tappable\";\nimport { classNames } from \"../../lib/classNames\";\nimport CustomSelect, { SelectType } from \"../CustomSelect/CustomSelect\";\nimport CustomSelectOption from \"../CustomSelectOption/CustomSelectOption\";\nimport { SizeType } from \"../../hoc/withAdaptivity\";\nimport { getMonths, getYears } from \"../../lib/calendar\";\nimport { LocaleProviderContext } from \"../LocaleProviderContext/LocaleProviderContext\";\nimport Text from \"../Typography/Text/Text\";\nvar renderOption = function renderOption(_ref) {\n  var option = _ref.option,\n    children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return createScopedElement(CustomSelectOption, props, createScopedElement(\"span\", {\n    vkuiClass: \"CalendarHeader__month_name\"\n  }, children));\n};\nexport var CalendarHeader = function CalendarHeader(_ref2) {\n  var viewDate = _ref2.viewDate,\n    onChange = _ref2.onChange,\n    _ref2$prevMonth = _ref2.prevMonth,\n    prevMonth = _ref2$prevMonth === void 0 ? true : _ref2$prevMonth,\n    _ref2$nextMonth = _ref2.nextMonth,\n    nextMonth = _ref2$nextMonth === void 0 ? true : _ref2$nextMonth,\n    _ref2$disablePickers = _ref2.disablePickers,\n    disablePickers = _ref2$disablePickers === void 0 ? false : _ref2$disablePickers,\n    onNextMonth = _ref2.onNextMonth,\n    onPrevMonth = _ref2.onPrevMonth,\n    className = _ref2.className,\n    _ref2$prevMonthAriaLa = _ref2.prevMonthAriaLabel,\n    prevMonthAriaLabel = _ref2$prevMonthAriaLa === void 0 ? \"Предыдущий месяц\" : _ref2$prevMonthAriaLa,\n    _ref2$nextMonthAriaLa = _ref2.nextMonthAriaLabel,\n    nextMonthAriaLabel = _ref2$nextMonthAriaLa === void 0 ? \"Следующий месяц\" : _ref2$nextMonthAriaLa,\n    _ref2$changeMonthAria = _ref2.changeMonthAriaLabel,\n    changeMonthAriaLabel = _ref2$changeMonthAria === void 0 ? \"Изменить месяц\" : _ref2$changeMonthAria,\n    _ref2$changeYearAriaL = _ref2.changeYearAriaLabel,\n    changeYearAriaLabel = _ref2$changeYearAriaL === void 0 ? \"Изменить год\" : _ref2$changeYearAriaL;\n  var locale = React.useContext(LocaleProviderContext);\n  var onMonthsChange = React.useCallback(function (event) {\n    return onChange(setMonth(viewDate, Number(event.target.value)));\n  }, [onChange, viewDate]);\n  var onYearChange = React.useCallback(function (event) {\n    return onChange(setYear(viewDate, Number(event.target.value)));\n  }, [onChange, viewDate]);\n  var months = React.useMemo(function () {\n    return getMonths(locale);\n  }, [locale]);\n  var currentYear = viewDate.getFullYear();\n  var years = React.useMemo(function () {\n    return getYears(currentYear, 100);\n  }, [currentYear]);\n  var formatter = new Intl.DateTimeFormat(locale, {\n    year: \"numeric\",\n    month: \"long\"\n  });\n  return createScopedElement(\"div\", {\n    vkuiClass: \"CalendarHeader\",\n    className: className\n  }, prevMonth && createScopedElement(Tappable, {\n    vkuiClass: classNames(\"CalendarHeader__nav-icon\", \"CalendarHeader__nav-icon-prev\"),\n    onClick: onPrevMonth,\n    \"aria-label\": \"\".concat(prevMonthAriaLabel, \", \").concat(formatter.format(subMonths(viewDate, 1)))\n  }, createScopedElement(Icon20ChevronLeftOutline, {\n    width: 30,\n    height: 30\n  })), createScopedElement(\"div\", {\n    vkuiClass: \"CalendarHeader__pickers\"\n  }, disablePickers ? createScopedElement(React.Fragment, null, createScopedElement(Text, {\n    weight: \"medium\",\n    vkuiClass: \"CalendarHeader__pickers-placeholder\"\n  }, new Intl.DateTimeFormat(locale, {\n    month: \"long\"\n  }).format(viewDate)), createScopedElement(Text, {\n    weight: \"medium\",\n    vkuiClass: \"CalendarHeader__pickers-placeholder\"\n  }, new Intl.DateTimeFormat(locale, {\n    year: \"numeric\"\n  }).format(viewDate))) : createScopedElement(React.Fragment, null, createScopedElement(CustomSelect, {\n    value: viewDate.getMonth(),\n    options: months,\n    renderOption: renderOption,\n    dropdownOffsetDistance: 4,\n    fixDropdownWidth: false,\n    sizeY: SizeType.COMPACT,\n    icon: createScopedElement(Icon12Dropdown, null),\n    onChange: onMonthsChange,\n    forceDropdownPortal: false,\n    selectType: SelectType.Plain,\n    \"aria-label\": changeMonthAriaLabel\n  }), createScopedElement(CustomSelect, {\n    value: viewDate.getFullYear(),\n    options: years,\n    dropdownOffsetDistance: 4,\n    fixDropdownWidth: false,\n    sizeY: SizeType.COMPACT,\n    icon: createScopedElement(Icon12Dropdown, null),\n    onChange: onYearChange,\n    forceDropdownPortal: false,\n    selectType: SelectType.Plain,\n    \"aria-label\": changeYearAriaLabel\n  }))), nextMonth && createScopedElement(Tappable, {\n    vkuiClass: classNames(\"CalendarHeader__nav-icon\", \"CalendarHeader__nav-icon-next\"),\n    onClick: onNextMonth,\n    \"aria-label\": \"\".concat(nextMonthAriaLabel, \", \").concat(formatter.format(addMonths(viewDate, 1)))\n  }, createScopedElement(Icon20ChevronRightOutline, {\n    width: 30,\n    height: 30\n  })));\n};","map":{"version":3,"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,SAA5B,EAAuCC,SAAvC,QAAwD,UAAxD;AACA,SACEC,wBADF,EAEEC,yBAFF,EAGEC,cAHF,QAIO,kBAJP;AAKA,OAAOC,QAAP;AACA,SAASC,UAAT;AACA,OAAOC,YAAP,IAEEC,UAFF;AAIA,OAAOC,kBAAP;AACA,SAASC,QAAT;AACA,SAASC,SAAT,EAAoBC,QAApB;AACA,SAASC,qBAAT;AACA,OAAOC,IAAP;AAkBA,IAAMC,YAA+C,GAAG,SAAlDA,YAAkD,OAIlD;EAAA,IAHJC,MAGI,QAHJA,MAGI;IAFJC,QAEI,QAFJA,QAEI;IADDC,KACC;EACJ,OACEC,oBAACV,kBAAD,EAAwBS,KAAxB,EACEC;IAAMC,SAAS,EAAC;EAAhB,GAA8CH,QAA9C,CADF,CADF;AAKD,CAVD;AAYA,OAAO,IAAMI,cAA6C,GAAG,SAAhDA,cAAgD,QAavD;EAAA,IAZJC,QAYI,SAZJA,QAYI;IAXJC,QAWI,SAXJA,QAWI;IAAAC,wBAVJC,SAUI;IAVJA,SAUI,gCAVQ,IAUR;IAAAC,wBATJC,SASI;IATJA,SASI,gCATQ,IASR;IAAAC,6BARJC,cAQI;IARJA,cAQI,qCARa,KAQb;IAPJC,WAOI,SAPJA,WAOI;IANJC,WAMI,SANJA,WAMI;IALJC,SAKI,SALJA,SAKI;IAAAC,8BAJJC,kBAII;IAJJA,kBAII,sCAJiB,kBAIjB;IAAAC,8BAHJC,kBAGI;IAHJA,kBAGI,sCAHiB,iBAGjB;IAAAC,8BAFJC,oBAEI;IAFJA,oBAEI,sCAFmB,gBAEnB;IAAAC,8BADJC,mBACI;IADJA,mBACI,sCADkB,cAClB;EACJ,IAAMC,MAAM,GAAG5C,KAAK,CAAC6C,UAAN,CAAiB7B,qBAAjB,CAAf;EACA,IAAM8B,cAAc,GAAG9C,KAAK,CAAC+C,WAAN,CACrB,UAACC,KAAD;IAAA,OACEtB,QAAQ,CAACzB,QAAQ,CAACwB,QAAD,EAAWwB,MAAM,CAACD,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAjB,CAAT,CADV;EAAA,CADqB,EAGrB,CAACzB,QAAD,EAAWD,QAAX,CAHqB,CAAvB;EAKA,IAAM2B,YAAY,GAAGpD,KAAK,CAAC+C,WAAN,CACnB,UAACC,KAAD;IAAA,OACEtB,QAAQ,CAACxB,OAAO,CAACuB,QAAD,EAAWwB,MAAM,CAACD,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAjB,CAAR,CADV;EAAA,CADmB,EAGnB,CAACzB,QAAD,EAAWD,QAAX,CAHmB,CAArB;EAMA,IAAM4B,MAAM,GAAGrD,KAAK,CAACsD,OAAN,CAAc;IAAA,OAAMxC,SAAS,CAAC8B,MAAD,CAAf;EAAA,CAAd,EAAuC,CAACA,MAAD,CAAvC,CAAf;EAEA,IAAMW,WAAW,GAAG9B,QAAQ,CAAC+B,WAAT,EAApB;EAEA,IAAMC,KAAK,GAAGzD,KAAK,CAACsD,OAAN,CAAc;IAAA,OAAMvC,QAAQ,CAACwC,WAAD,EAAc,GAAd,CAAd;EAAA,CAAd,EAAgD,CAACA,WAAD,CAAhD,CAAd;EAEA,IAAMG,SAAS,GAAG,IAAIC,IAAI,CAACC,cAAT,CAAwBhB,MAAxB,EAAgC;IAChDiB,IAAI,EAAE,SAD0C;IAEhDC,KAAK,EAAE;EAFyC,CAAhC,CAAlB;EAKA,OACExC;IAAKC,SAAS,EAAC,gBAAf;IAAgCY,SAAS,EAAEA;EAA3C,GACGP,SAAS,IACRN,oBAACd,QAAD;IACEe,SAAS,EAAEd,UAAU,CACnB,0BADmB,EAEnB,+BAFmB,CADvB;IAKEsD,OAAO,EAAE7B,WALX;IAME,wBAAeG,kBAAf,eAAsCqB,SAAS,CAACM,MAAV,CACpC7D,SAAS,CAACsB,QAAD,EAAW,CAAX,CAD2B,CAAtC;EANF,GAUEH,oBAACjB,wBAAD;IAA0B4D,KAAK,EAAE,EAAjC;IAAqCC,MAAM,EAAE;EAA7C,EAVF,CAFJ,EAeE5C;IAAKC,SAAS,EAAC;EAAf,GACGS,cAAc,GACbV,oBAACtB,KAAD,CAAOmE,QAAP,QACE7C,oBAACL,IAAD;IACEmD,MAAM,EAAC,QADT;IAEE7C,SAAS,EAAC;EAFZ,GAIG,IAAIoC,IAAI,CAACC,cAAT,CAAwBhB,MAAxB,EAAgC;IAC/BkB,KAAK,EAAE;EADwB,CAAhC,EAEEE,MAFF,CAESvC,QAFT,CAJH,CADF,EASEH,oBAACL,IAAD;IACEmD,MAAM,EAAC,QADT;IAEE7C,SAAS,EAAC;EAFZ,GAIG,IAAIoC,IAAI,CAACC,cAAT,CAAwBhB,MAAxB,EAAgC;IAC/BiB,IAAI,EAAE;EADyB,CAAhC,EAEEG,MAFF,CAESvC,QAFT,CAJH,CATF,CADa,GAoBbH,oBAACtB,KAAD,CAAOmE,QAAP,QACE7C,oBAACZ,YAAD;IACEyC,KAAK,EAAE1B,QAAQ,CAAC4C,QAAT,EADT;IAEEC,OAAO,EAAEjB,MAFX;IAGEnC,YAAY,EAAEA,YAHhB;IAIEqD,sBAAsB,EAAE,CAJ1B;IAKEC,gBAAgB,EAAE,KALpB;IAMEC,KAAK,EAAE5D,QAAQ,CAAC6D,OANlB;IAOEC,IAAI,EAAErD,oBAACf,cAAD,OAPR;IAQEmB,QAAQ,EAAEoB,cARZ;IASE8B,mBAAmB,EAAE,KATvB;IAUEC,UAAU,EAAElE,UAAU,CAACmE,KAVzB;IAWE,cAAYrC;EAXd,EADF,EAcEnB,oBAACZ,YAAD;IACEyC,KAAK,EAAE1B,QAAQ,CAAC+B,WAAT,EADT;IAEEc,OAAO,EAAEb,KAFX;IAGEc,sBAAsB,EAAE,CAH1B;IAIEC,gBAAgB,EAAE,KAJpB;IAKEC,KAAK,EAAE5D,QAAQ,CAAC6D,OALlB;IAMEC,IAAI,EAAErD,oBAACf,cAAD,OANR;IAOEmB,QAAQ,EAAE0B,YAPZ;IAQEwB,mBAAmB,EAAE,KARvB;IASEC,UAAU,EAAElE,UAAU,CAACmE,KATzB;IAUE,cAAYnC;EAVd,EAdF,CArBJ,CAfF,EAiEGb,SAAS,IACRR,oBAACd,QAAD;IACEe,SAAS,EAAEd,UAAU,CACnB,0BADmB,EAEnB,+BAFmB,CADvB;IAKEsD,OAAO,EAAE9B,WALX;IAME,wBAAeM,kBAAf,eAAsCmB,SAAS,CAACM,MAAV,CACpC5D,SAAS,CAACqB,QAAD,EAAW,CAAX,CAD2B,CAAtC;EANF,GAUEH,oBAAChB,yBAAD;IAA2B2D,KAAK,EAAE,EAAlC;IAAsCC,MAAM,EAAE;EAA9C,EAVF,CAlEJ,CADF;AAkFD,CAvHM","names":["React","setMonth","setYear","subMonths","addMonths","Icon20ChevronLeftOutline","Icon20ChevronRightOutline","Icon12Dropdown","Tappable","classNames","CustomSelect","SelectType","CustomSelectOption","SizeType","getMonths","getYears","LocaleProviderContext","Text","renderOption","option","children","props","createScopedElement","vkuiClass","CalendarHeader","viewDate","onChange","_ref2$prevMonth","prevMonth","_ref2$nextMonth","nextMonth","_ref2$disablePickers","disablePickers","onNextMonth","onPrevMonth","className","_ref2$prevMonthAriaLa","prevMonthAriaLabel","_ref2$nextMonthAriaLa","nextMonthAriaLabel","_ref2$changeMonthAria","changeMonthAriaLabel","_ref2$changeYearAriaL","changeYearAriaLabel","locale","useContext","onMonthsChange","useCallback","event","Number","target","value","onYearChange","months","useMemo","currentYear","getFullYear","years","formatter","Intl","DateTimeFormat","year","month","onClick","format","width","height","Fragment","weight","getMonth","options","dropdownOffsetDistance","fixDropdownWidth","sizeY","COMPACT","icon","forceDropdownPortal","selectType","Plain"],"sources":["C:\\Users\\zpili\\Desktop\\Finbox-VK-mini-apps\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\CalendarHeader\\CalendarHeader.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { setMonth, setYear, subMonths, addMonths } from \"date-fns\";\nimport {\n  Icon20ChevronLeftOutline,\n  Icon20ChevronRightOutline,\n  Icon12Dropdown,\n} from \"@vkontakte/icons\";\nimport Tappable from \"../Tappable/Tappable\";\nimport { classNames } from \"../../lib/classNames\";\nimport CustomSelect, {\n  CustomSelectProps,\n  SelectType,\n} from \"../CustomSelect/CustomSelect\";\nimport CustomSelectOption from \"../CustomSelectOption/CustomSelectOption\";\nimport { SizeType } from \"../../hoc/withAdaptivity\";\nimport { getMonths, getYears } from \"../../lib/calendar\";\nimport { LocaleProviderContext } from \"../LocaleProviderContext/LocaleProviderContext\";\nimport Text from \"../Typography/Text/Text\";\nimport \"./CalendarHeader.css\";\n\nexport interface CalendarHeaderProps\n  extends Pick<React.HTMLAttributes<HTMLDivElement>, \"className\"> {\n  viewDate: Date;\n  prevMonth?: boolean;\n  nextMonth?: boolean;\n  disablePickers?: boolean;\n  prevMonthAriaLabel?: string;\n  nextMonthAriaLabel?: string;\n  changeMonthAriaLabel?: string;\n  changeYearAriaLabel?: string;\n  onChange(viewDate: Date): void;\n  onNextMonth?(): void;\n  onPrevMonth?(): void;\n}\n\nconst renderOption: CustomSelectProps[\"renderOption\"] = ({\n  option,\n  children,\n  ...props\n}) => {\n  return (\n    <CustomSelectOption {...props}>\n      <span vkuiClass=\"CalendarHeader__month_name\">{children}</span>\n    </CustomSelectOption>\n  );\n};\n\nexport const CalendarHeader: React.FC<CalendarHeaderProps> = ({\n  viewDate,\n  onChange,\n  prevMonth = true,\n  nextMonth = true,\n  disablePickers = false,\n  onNextMonth,\n  onPrevMonth,\n  className,\n  prevMonthAriaLabel = \"Предыдущий месяц\",\n  nextMonthAriaLabel = \"Следующий месяц\",\n  changeMonthAriaLabel = \"Изменить месяц\",\n  changeYearAriaLabel = \"Изменить год\",\n}) => {\n  const locale = React.useContext(LocaleProviderContext);\n  const onMonthsChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange(setMonth(viewDate, Number(event.target.value))),\n    [onChange, viewDate]\n  );\n  const onYearChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange(setYear(viewDate, Number(event.target.value))),\n    [onChange, viewDate]\n  );\n\n  const months = React.useMemo(() => getMonths(locale), [locale]);\n\n  const currentYear = viewDate.getFullYear();\n\n  const years = React.useMemo(() => getYears(currentYear, 100), [currentYear]);\n\n  const formatter = new Intl.DateTimeFormat(locale, {\n    year: \"numeric\",\n    month: \"long\",\n  });\n\n  return (\n    <div vkuiClass=\"CalendarHeader\" className={className}>\n      {prevMonth && (\n        <Tappable\n          vkuiClass={classNames(\n            \"CalendarHeader__nav-icon\",\n            \"CalendarHeader__nav-icon-prev\"\n          )}\n          onClick={onPrevMonth}\n          aria-label={`${prevMonthAriaLabel}, ${formatter.format(\n            subMonths(viewDate, 1)\n          )}`}\n        >\n          <Icon20ChevronLeftOutline width={30} height={30} />\n        </Tappable>\n      )}\n      <div vkuiClass=\"CalendarHeader__pickers\">\n        {disablePickers ? (\n          <React.Fragment>\n            <Text\n              weight=\"medium\"\n              vkuiClass=\"CalendarHeader__pickers-placeholder\"\n            >\n              {new Intl.DateTimeFormat(locale, {\n                month: \"long\",\n              }).format(viewDate)}\n            </Text>\n            <Text\n              weight=\"medium\"\n              vkuiClass=\"CalendarHeader__pickers-placeholder\"\n            >\n              {new Intl.DateTimeFormat(locale, {\n                year: \"numeric\",\n              }).format(viewDate)}\n            </Text>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <CustomSelect\n              value={viewDate.getMonth()}\n              options={months}\n              renderOption={renderOption}\n              dropdownOffsetDistance={4}\n              fixDropdownWidth={false}\n              sizeY={SizeType.COMPACT}\n              icon={<Icon12Dropdown />}\n              onChange={onMonthsChange}\n              forceDropdownPortal={false}\n              selectType={SelectType.Plain}\n              aria-label={changeMonthAriaLabel}\n            />\n            <CustomSelect\n              value={viewDate.getFullYear()}\n              options={years}\n              dropdownOffsetDistance={4}\n              fixDropdownWidth={false}\n              sizeY={SizeType.COMPACT}\n              icon={<Icon12Dropdown />}\n              onChange={onYearChange}\n              forceDropdownPortal={false}\n              selectType={SelectType.Plain}\n              aria-label={changeYearAriaLabel}\n            />\n          </React.Fragment>\n        )}\n      </div>\n      {nextMonth && (\n        <Tappable\n          vkuiClass={classNames(\n            \"CalendarHeader__nav-icon\",\n            \"CalendarHeader__nav-icon-next\"\n          )}\n          onClick={onNextMonth}\n          aria-label={`${nextMonthAriaLabel}, ${formatter.format(\n            addMonths(viewDate, 1)\n          )}`}\n        >\n          <Icon20ChevronRightOutline width={30} height={30} />\n        </Tappable>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}