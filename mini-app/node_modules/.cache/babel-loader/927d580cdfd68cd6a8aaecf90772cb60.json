{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"mode\", \"embedded\", \"sizeX\", \"hasMouse\", \"noLegacyClasses\", \"scroll\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { useDOM } from \"../../lib/dom\";\nimport { classNames } from \"../../lib/classNames\";\nimport { AppRootContext } from \"./AppRootContext\";\nimport { withAdaptivity, SizeType } from \"../../hoc/withAdaptivity\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { classScopingMode } from \"../../lib/classScopingMode\";\nimport { IconSettingsProvider } from \"@vkontakte/icons\";\nimport { elementScrollController, globalScrollController, ScrollContext } from \"./ScrollContext\";\nimport { noop } from \"../../lib/utils\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { useKeyboardInputTracker } from \"../../hooks/useKeyboardInputTracker\";\nimport { useInsets } from \"../../hooks/useInsets\";\nvar warn = warnOnce(\"AppRoot\");\nexport var AppRoot = withAdaptivity(function (_ref) {\n  var children = _ref.children,\n    _mode = _ref.mode,\n    _embedded = _ref.embedded,\n    sizeX = _ref.sizeX,\n    hasMouse = _ref.hasMouse,\n    _ref$noLegacyClasses = _ref.noLegacyClasses,\n    noLegacyClasses = _ref$noLegacyClasses === void 0 ? false : _ref$noLegacyClasses,\n    _ref$scroll = _ref.scroll,\n    scroll = _ref$scroll === void 0 ? \"global\" : _ref$scroll,\n    props = _objectWithoutProperties(_ref, _excluded);\n\n  // normalize mode\n  var mode = _mode || (_embedded ? \"embedded\" : \"full\");\n  var isKeyboardInputActive = useKeyboardInputTracker();\n  var rootRef = React.useRef(null);\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    portalRoot = _React$useState2[0],\n    setPortalRoot = _React$useState2[1];\n  var _useDOM = useDOM(),\n    window = _useDOM.window,\n    document = _useDOM.document;\n  var insets = useInsets();\n  var initialized = React.useRef(false);\n  if (!initialized.current) {\n    if (document && mode === \"full\") {\n      document.documentElement.classList.add(\"vkui\");\n    }\n    classScopingMode.noConflict = noLegacyClasses;\n    initialized.current = true;\n  }\n  if (process.env.NODE_ENV === \"development\") {\n    if (scroll !== \"global\" && mode !== \"embedded\") {\n      warn(\"Scroll modes only supported in embedded mode\");\n    }\n    if (_mode && _embedded) {\n      warn(\"mode=\\\"\".concat(mode, \"\\\" overrides embedded\"));\n    }\n  } // setup portal\n\n  useIsomorphicLayoutEffect(function () {\n    var portal = document.createElement(\"div\");\n    portal.classList.add(\"vkui__portal-root\");\n    document.body.appendChild(portal);\n    setPortalRoot(portal);\n    return function () {\n      var _portal$parentElement;\n      (_portal$parentElement = portal.parentElement) === null || _portal$parentElement === void 0 ? void 0 : _portal$parentElement.removeChild(portal);\n    };\n  }, []); // setup root classes\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current, _parent$classList;\n    if (mode === \"partial\") {\n      return noop;\n    }\n    var parent = (_rootRef$current = rootRef.current) === null || _rootRef$current === void 0 ? void 0 : _rootRef$current.parentElement;\n    var classes = [\"vkui__root\"].concat(mode === \"embedded\" ? \"vkui__root--embedded\" : []);\n    parent === null || parent === void 0 ? void 0 : (_parent$classList = parent.classList).add.apply(_parent$classList, _toConsumableArray(classes));\n    return function () {\n      var _parent$classList2;\n      parent === null || parent === void 0 ? void 0 : (_parent$classList2 = parent.classList).remove.apply(_parent$classList2, _toConsumableArray(classes));\n      if (mode === \"full\") {\n        document === null || document === void 0 ? void 0 : document.documentElement.classList.remove(\"vkui\");\n      }\n    };\n  }, []); // setup insets\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current2;\n    if (mode === \"partial\" || !((_rootRef$current2 = rootRef.current) !== null && _rootRef$current2 !== void 0 && _rootRef$current2.parentElement)) {\n      return noop;\n    }\n    var parent = rootRef.current.parentElement;\n    for (var key in insets) {\n      if (insets.hasOwnProperty(key) && typeof insets[key] === \"number\") {\n        var inset = insets[key];\n        parent.style.setProperty(\"--safe-area-inset-\".concat(key), \"\".concat(inset, \"px\"));\n        portalRoot && portalRoot.style.setProperty(\"--safe-area-inset-\".concat(key), \"\".concat(inset, \"px\"));\n      }\n    }\n    return function () {\n      for (var _key in insets) {\n        if (insets.hasOwnProperty(_key)) {\n          parent.style.removeProperty(\"--safe-area-inset-\".concat(_key));\n          portalRoot && portalRoot.style.removeProperty(\"--safe-area-inset-\".concat(_key));\n        }\n      }\n    };\n  }, [insets, portalRoot]); // adaptivity handler\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current3;\n    if (mode === \"partial\" || sizeX !== SizeType.REGULAR) {\n      return noop;\n    }\n    var container = mode === \"embedded\" ? (_rootRef$current3 = rootRef.current) === null || _rootRef$current3 === void 0 ? void 0 : _rootRef$current3.parentElement : document.body;\n    container === null || container === void 0 ? void 0 : container.classList.add(\"vkui--sizeX-regular\");\n    return function () {\n      return container === null || container === void 0 ? void 0 : container.classList.remove(\"vkui--sizeX-regular\");\n    };\n  }, [sizeX]);\n  var scrollController = React.useMemo(function () {\n    return scroll === \"contain\" ? elementScrollController(rootRef) : globalScrollController(window, document);\n  }, [document, scroll, window]);\n  var content = createScopedElement(AppRootContext.Provider, {\n    value: {\n      appRoot: rootRef,\n      portalRoot: portalRoot,\n      embedded: mode === \"embedded\",\n      keyboardInput: isKeyboardInputActive,\n      mode: mode\n    }\n  }, createScopedElement(ScrollContext.Provider, {\n    value: scrollController\n  }, createScopedElement(IconSettingsProvider, {\n    classPrefix: \"vkui\",\n    globalClasses: !noLegacyClasses\n  }, children)));\n  return mode === \"partial\" ? content : createScopedElement(\"div\", _extends({\n    ref: rootRef,\n    vkuiClass: classNames(\"AppRoot\", {\n      \"AppRoot--no-mouse\": !hasMouse\n    })\n  }, props), content);\n}, {\n  sizeX: true,\n  hasMouse: true\n});","map":{"version":3,"mappings":"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","names":["React","useDOM","classNames","AppRootContext","withAdaptivity","SizeType","useIsomorphicLayoutEffect","classScopingMode","IconSettingsProvider","elementScrollController","globalScrollController","ScrollContext","noop","warnOnce","useKeyboardInputTracker","useInsets","warn","AppRoot","children","_mode","mode","_embedded","embedded","sizeX","hasMouse","_ref$noLegacyClasses","noLegacyClasses","_ref$scroll","scroll","props","isKeyboardInputActive","rootRef","useRef","useState","_React$useState2","portalRoot","setPortalRoot","window","document","insets","initialized","current","documentElement","classList","add","noConflict","process","env","NODE_ENV","portal","createElement","body","appendChild","parentElement","removeChild","parent","_rootRef$current","classes","concat","remove","_rootRef$current2","key","hasOwnProperty","inset","style","setProperty","removeProperty","REGULAR","container","_rootRef$current3","scrollController","useMemo","content","createScopedElement","Provider","value","appRoot","keyboardInput","classPrefix","globalClasses","ref","vkuiClass"],"sources":["../../../src/components/AppRoot/AppRoot.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { useDOM } from \"../../lib/dom\";\nimport { classNames } from \"../../lib/classNames\";\nimport { AppRootContext } from \"./AppRootContext\";\nimport {\n  withAdaptivity,\n  SizeType,\n  AdaptivityProps,\n} from \"../../hoc/withAdaptivity\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { classScopingMode } from \"../../lib/classScopingMode\";\nimport { IconSettingsProvider } from \"@vkontakte/icons\";\nimport {\n  elementScrollController,\n  globalScrollController,\n  ScrollContext,\n  ScrollContextInterface,\n} from \"./ScrollContext\";\nimport { noop } from \"../../lib/utils\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { useKeyboardInputTracker } from \"../../hooks/useKeyboardInputTracker\";\nimport { useInsets } from \"../../hooks/useInsets\";\nimport { Insets } from \"@vkontakte/vk-bridge\";\nimport \"./AppRoot.css\";\n\n// Используйте classList, но будьте осторожны\n/* eslint-disable no-restricted-properties */\n\nexport interface AppRootProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    Pick<AdaptivityProps, \"sizeX\" | \"hasMouse\"> {\n  /** @deprecated Use mode=\"embedded\" */\n  embedded?: boolean;\n  /** Режим встраивания */\n  mode?: \"partial\" | \"embedded\" | \"full\";\n  window?: Window;\n  /** Убирает классы без префикса (.Button) */\n  noLegacyClasses?: boolean;\n  scroll?: \"global\" | \"contain\";\n}\n\nconst warn = warnOnce(\"AppRoot\");\nexport const AppRoot = withAdaptivity<AppRootProps>(\n  ({\n    children,\n    mode: _mode,\n    embedded: _embedded,\n    sizeX,\n    hasMouse,\n    noLegacyClasses = false,\n    scroll = \"global\",\n    ...props\n  }) => {\n    // normalize mode\n    const mode = _mode || (_embedded ? \"embedded\" : \"full\");\n    const isKeyboardInputActive = useKeyboardInputTracker();\n    const rootRef = React.useRef<HTMLDivElement | null>(null);\n    const [portalRoot, setPortalRoot] = React.useState<HTMLDivElement | null>(\n      null\n    );\n    const { window, document } = useDOM();\n    const insets = useInsets();\n\n    const initialized = React.useRef(false);\n    if (!initialized.current) {\n      if (document && mode === \"full\") {\n        document.documentElement.classList.add(\"vkui\");\n      }\n      classScopingMode.noConflict = noLegacyClasses;\n      initialized.current = true;\n    }\n\n    if (process.env.NODE_ENV === \"development\") {\n      if (scroll !== \"global\" && mode !== \"embedded\") {\n        warn(\"Scroll modes only supported in embedded mode\");\n      }\n      if (_mode && _embedded) {\n        warn(`mode=\"${mode}\" overrides embedded`);\n      }\n    }\n\n    // setup portal\n    useIsomorphicLayoutEffect(() => {\n      const portal = document!.createElement(\"div\");\n      portal.classList.add(\"vkui__portal-root\");\n      document!.body.appendChild(portal);\n      setPortalRoot(portal);\n      return () => {\n        portal.parentElement?.removeChild(portal);\n      };\n    }, []);\n\n    // setup root classes\n    useIsomorphicLayoutEffect(() => {\n      if (mode === \"partial\") {\n        return noop;\n      }\n\n      const parent = rootRef.current?.parentElement;\n      const classes = [\"vkui__root\"].concat(\n        mode === \"embedded\" ? \"vkui__root--embedded\" : []\n      );\n      parent?.classList.add(...classes);\n\n      return () => {\n        parent?.classList.remove(...classes);\n        if (mode === \"full\") {\n          document?.documentElement.classList.remove(\"vkui\");\n        }\n      };\n    }, []);\n\n    // setup insets\n    useIsomorphicLayoutEffect(() => {\n      if (mode === \"partial\" || !rootRef.current?.parentElement) {\n        return noop;\n      }\n\n      const parent = rootRef.current.parentElement;\n\n      for (const key in insets) {\n        if (\n          insets.hasOwnProperty(key) &&\n          typeof insets[key as keyof Insets] === \"number\"\n        ) {\n          const inset = insets[key as keyof Insets];\n          parent.style.setProperty(`--safe-area-inset-${key}`, `${inset}px`);\n          portalRoot &&\n            portalRoot.style.setProperty(\n              `--safe-area-inset-${key}`,\n              `${inset}px`\n            );\n        }\n      }\n\n      return () => {\n        for (const key in insets) {\n          if (insets.hasOwnProperty(key)) {\n            parent.style.removeProperty(`--safe-area-inset-${key}`);\n            portalRoot &&\n              portalRoot.style.removeProperty(`--safe-area-inset-${key}`);\n          }\n        }\n      };\n    }, [insets, portalRoot]);\n\n    // adaptivity handler\n    useIsomorphicLayoutEffect(() => {\n      if (mode === \"partial\" || sizeX !== SizeType.REGULAR) {\n        return noop;\n      }\n      const container =\n        mode === \"embedded\" ? rootRef.current?.parentElement : document!.body;\n      container?.classList.add(\"vkui--sizeX-regular\");\n      return () => container?.classList.remove(\"vkui--sizeX-regular\");\n    }, [sizeX]);\n\n    const scrollController = React.useMemo<ScrollContextInterface>(\n      () =>\n        scroll === \"contain\"\n          ? elementScrollController(rootRef)\n          : globalScrollController(window, document),\n      [document, scroll, window]\n    );\n\n    const content = (\n      <AppRootContext.Provider\n        value={{\n          appRoot: rootRef,\n          portalRoot: portalRoot,\n          embedded: mode === \"embedded\",\n          keyboardInput: isKeyboardInputActive,\n          mode,\n        }}\n      >\n        <ScrollContext.Provider value={scrollController}>\n          <IconSettingsProvider\n            classPrefix=\"vkui\"\n            globalClasses={!noLegacyClasses}\n          >\n            {children}\n          </IconSettingsProvider>\n        </ScrollContext.Provider>\n      </AppRootContext.Provider>\n    );\n\n    return mode === \"partial\" ? (\n      content\n    ) : (\n      <div\n        ref={rootRef}\n        vkuiClass={classNames(\"AppRoot\", {\n          \"AppRoot--no-mouse\": !hasMouse,\n        })}\n        {...props}\n      >\n        {content}\n      </div>\n    );\n  },\n  {\n    sizeX: true,\n    hasMouse: true,\n  }\n);\n"]},"metadata":{},"sourceType":"module"}