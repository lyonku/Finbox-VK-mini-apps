{"ast":null,"code":"import _objectSpread from\"C:/Users/zpili/Desktop/Finbox-VK-mini-apps/mini-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import\"./Membership.css\";import accessDenied from\"img/accessDenied.svg\";import Logo from\"img/SmartMoneyLogo.png\";import Back from\"img/chevron-back.svg\";import MembershipChosenGroup from\"./components/MembershipChosenGroup\";import MembershipMain from\"./components/MembershipMain\";import MembershipForm from\"./components/MembershipForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Membership=function Membership(_ref){var goToPage=_ref.goToPage,setAdminInfo=_ref.setAdminInfo,adminInfo=_ref.adminInfo;var showReviews=function showReviews(event){event.preventDefault();var _loop=function _loop(i){var _event$target$i;if((_event$target$i=event.target[i])!==null&&_event$target$i!==void 0&&_event$target$i.checked){adminInfo.adminsGroups.map(function(group){if(group.id==event.target[i].id){setAdminInfo(_objectSpread(_objectSpread({},adminInfo),{},{chosenGroup:group}));}});}};for(var i=0;i<event.target.length;i++){_loop(i);}};var handleUserRights=function handleUserRights(){setAdminInfo(_objectSpread(_objectSpread({},adminInfo),{},{userRights:true}));};if(adminInfo.chosenGroup){return/*#__PURE__*/_jsx(MembershipChosenGroup,{goToPage:goToPage,Back:Back,Logo:Logo,chosenGroupImg:adminInfo.chosenGroup.photo_100,chosenGroupName:adminInfo.chosenGroup.name});}return/*#__PURE__*/_jsxs(\"div\",{className:\"membership\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"membership__header\",children:[/*#__PURE__*/_jsx(\"img\",{src:Back,alt:\"Back\",className:\"header-Back\",onClick:function onClick(){return window.history.back();},\"data-to\":\"home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"membership__logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,className:\"membership__logo-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"membership__logo-text\",children:\"\\u0423\\u043C\\u043D\\u044B\\u0435 \\u0437\\u0430\\u0439\\u043C\\u044B\"})]})]}),(adminInfo===null||adminInfo===void 0?void 0:adminInfo.trueUser)==true?/*#__PURE__*/_jsx(MembershipForm,{showReviews:showReviews,adminInfo:adminInfo}):(adminInfo===null||adminInfo===void 0?void 0:adminInfo.trueUser)==false?/*#__PURE__*/_jsxs(\"div\",{className:\"membership__accessDenied\",children:[/*#__PURE__*/_jsx(\"img\",{src:accessDenied,className:\"membership__accessDenied-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"membership__accessDenied-title\",children:\"\\u041C\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0448\\u043B\\u0438 \\u0443\\xA0\\u0432\\u0430\\u0441\\xA0\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u043A\\xA0\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F\\u043C\"})]}):/*#__PURE__*/_jsx(MembershipMain,{handleUserRights:handleUserRights})]});};export default Membership;","map":{"version":3,"names":["React","useState","accessDenied","Logo","Back","MembershipChosenGroup","MembershipMain","MembershipForm","Membership","goToPage","setAdminInfo","adminInfo","showReviews","event","preventDefault","i","target","checked","adminsGroups","map","group","id","chosenGroup","length","handleUserRights","userRights","photo_100","name","window","history","back","trueUser"],"sources":["C:/Users/zpili/Desktop/Finbox-VK-mini-apps/mini-app/src/panels/Membership/Membership.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./Membership.css\";\r\n\r\nimport accessDenied from \"img/accessDenied.svg\";\r\nimport Logo from \"img/SmartMoneyLogo.png\";\r\nimport Back from \"img/chevron-back.svg\";\r\nimport MembershipChosenGroup from \"./components/MembershipChosenGroup\";\r\nimport MembershipMain from \"./components/MembershipMain\";\r\nimport MembershipForm from \"./components/MembershipForm\";\r\n\r\nconst Membership = ({ goToPage, setAdminInfo, adminInfo }) => {\r\n  const showReviews = (event) => {\r\n    event.preventDefault();\r\n    for (let i = 0; i < event.target.length; i++) {\r\n      if (event.target[i]?.checked) {\r\n        adminInfo.adminsGroups.map((group) => {\r\n          if (group.id == event.target[i].id) {\r\n            setAdminInfo({ ...adminInfo, chosenGroup: group });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUserRights = () => {\r\n    setAdminInfo({ ...adminInfo, userRights: true });\r\n  };\r\n\r\n  if (adminInfo.chosenGroup) {\r\n    return (\r\n      <MembershipChosenGroup\r\n        goToPage={goToPage}\r\n        Back={Back}\r\n        Logo={Logo}\r\n        chosenGroupImg={adminInfo.chosenGroup.photo_100}\r\n        chosenGroupName={adminInfo.chosenGroup.name}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"membership\">\r\n      <div className=\"membership__header\">\r\n        <img\r\n          src={Back}\r\n          alt=\"Back\"\r\n          className=\"header-Back\"\r\n          onClick={() => window.history.back()}\r\n          data-to=\"home\"\r\n        />\r\n        <div className=\"membership__logo\">\r\n          <img src={Logo} className=\"membership__logo-img\" />\r\n          <div className=\"membership__logo-text\">Умные займы</div>\r\n        </div>\r\n      </div>\r\n\r\n      {adminInfo?.trueUser == true ? (\r\n        <MembershipForm showReviews={showReviews} adminInfo={adminInfo} />\r\n      ) : adminInfo?.trueUser == false ? (\r\n        <div className=\"membership__accessDenied\">\r\n          <img src={accessDenied} className=\"membership__accessDenied-img\" />\r\n          <div className=\"membership__accessDenied-title\">\r\n            Мы не нашли у вас доступа к компаниям\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <MembershipMain handleUserRights={handleUserRights} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nMembership.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  goToPage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Membership;\r\n"],"mappings":"wIAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CAGvC,MAAO,kBAAkB,CAEzB,MAAOC,aAAY,KAAM,sBAAsB,CAC/C,MAAOC,KAAI,KAAM,wBAAwB,CACzC,MAAOC,KAAI,KAAM,sBAAsB,CACvC,MAAOC,sBAAqB,KAAM,oCAAoC,CACtE,MAAOC,eAAc,KAAM,6BAA6B,CACxD,MAAOC,eAAc,KAAM,6BAA6B,CAAC,wFAEzD,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAA8C,IAAxCC,SAAQ,MAARA,QAAQ,CAAEC,YAAY,MAAZA,YAAY,CAAEC,SAAS,MAATA,SAAS,CACrD,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAK,CAC7BA,KAAK,CAACC,cAAc,EAAE,CAAC,yBACdC,CAAC,sBACR,oBAAIF,KAAK,CAACG,MAAM,CAACD,CAAC,CAAC,oCAAf,gBAAiBE,OAAO,CAAE,CAC5BN,SAAS,CAACO,YAAY,CAACC,GAAG,CAAC,SAACC,KAAK,CAAK,CACpC,GAAIA,KAAK,CAACC,EAAE,EAAIR,KAAK,CAACG,MAAM,CAACD,CAAC,CAAC,CAACM,EAAE,CAAE,CAClCX,YAAY,gCAAMC,SAAS,MAAEW,WAAW,CAAEF,KAAK,GAAG,CACpD,CACF,CAAC,CAAC,CACJ,CAAC,EAPH,IAAK,GAAIL,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,KAAK,CAACG,MAAM,CAACO,MAAM,CAAER,CAAC,EAAE,CAAE,OAArCA,CAAC,EAQV,CACF,CAAC,CAED,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7Bd,YAAY,gCAAMC,SAAS,MAAEc,UAAU,CAAE,IAAI,GAAG,CAClD,CAAC,CAED,GAAId,SAAS,CAACW,WAAW,CAAE,CACzB,mBACE,KAAC,qBAAqB,EACpB,QAAQ,CAAEb,QAAS,CACnB,IAAI,CAAEL,IAAK,CACX,IAAI,CAAED,IAAK,CACX,cAAc,CAAEQ,SAAS,CAACW,WAAW,CAACI,SAAU,CAChD,eAAe,CAAEf,SAAS,CAACW,WAAW,CAACK,IAAK,EAC5C,CAEN,CAEA,mBACE,aAAK,SAAS,CAAC,YAAY,wBACzB,aAAK,SAAS,CAAC,oBAAoB,wBACjC,YACE,GAAG,CAAEvB,IAAK,CACV,GAAG,CAAC,MAAM,CACV,SAAS,CAAC,aAAa,CACvB,OAAO,CAAE,yBAAMwB,OAAM,CAACC,OAAO,CAACC,IAAI,EAAE,EAAC,CACrC,UAAQ,MAAM,EACd,cACF,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,YAAK,GAAG,CAAE3B,IAAK,CAAC,SAAS,CAAC,sBAAsB,EAAG,cACnD,YAAK,SAAS,CAAC,uBAAuB,2EAAkB,GACpD,GACF,CAEL,CAAAQ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEoB,QAAQ,GAAI,IAAI,cAC1B,KAAC,cAAc,EAAC,WAAW,CAAEnB,WAAY,CAAC,SAAS,CAAED,SAAU,EAAG,CAChE,CAAAA,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEoB,QAAQ,GAAI,KAAK,cAC9B,aAAK,SAAS,CAAC,0BAA0B,wBACvC,YAAK,GAAG,CAAE7B,YAAa,CAAC,SAAS,CAAC,8BAA8B,EAAG,cACnE,YAAK,SAAS,CAAC,gCAAgC,kNAEzC,GACF,cAEN,KAAC,cAAc,EAAC,gBAAgB,CAAEsB,gBAAiB,EACpD,GACG,CAEV,CAAC,CAOD,cAAehB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}