{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar types_1 = require(\"./types\");\n\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\n\nvar Range =\n/** @class */\nfunction (_super) {\n  __extends(Range, _super);\n\n  function Range(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.trackRef = React.createRef();\n    _this.thumbRefs = [];\n    _this.state = {\n      draggedTrackPos: [-1, -1],\n      draggedThumbIndex: -1,\n      thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) {\n        return i;\n      }),\n      isChanged: false,\n      markOffsets: []\n    };\n\n    _this.getOffsets = function () {\n      var _a = _this.props,\n          direction = _a.direction,\n          values = _a.values,\n          min = _a.min,\n          max = _a.max;\n      var trackElement = _this.trackRef.current;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackPadding = (0, utils_1.getPaddingAndBorder)(trackElement);\n      return _this.getThumbs().map(function (thumb, index) {\n        var thumbOffsets = {\n          x: 0,\n          y: 0\n        };\n        var thumbRect = thumb.getBoundingClientRect();\n        var thumbMargins = (0, utils_1.getMargin)(thumb);\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Left:\n            thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width - trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Up:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height - trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Down:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          default:\n            return (0, utils_1.assertUnreachable)(direction);\n        }\n      });\n    };\n\n    _this.getThumbs = function () {\n      if (_this.trackRef && _this.trackRef.current) {\n        return Array.from(_this.trackRef.current.children).filter(function (el) {\n          return el.hasAttribute('aria-valuenow');\n        });\n      }\n\n      console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n      return [];\n    };\n\n    _this.getTargetIndex = function (e) {\n      return _this.getThumbs().findIndex(function (child) {\n        return child === e.target || child.contains(e.target);\n      });\n    };\n\n    _this.addTouchEvents = function (e) {\n      document.addEventListener('touchmove', _this.schdOnTouchMove, {\n        passive: false\n      });\n      document.addEventListener('touchend', _this.schdOnEnd, {\n        passive: false\n      });\n      document.addEventListener('touchcancel', _this.schdOnEnd, {\n        passive: false\n      });\n    };\n\n    _this.addMouseEvents = function (e) {\n      document.addEventListener('mousemove', _this.schdOnMouseMove);\n      document.addEventListener('mouseup', _this.schdOnEnd);\n    };\n\n    _this.onMouseDownTrack = function (e) {\n      var _a;\n\n      if (e.button !== 0) return;\n      e.persist();\n      e.preventDefault();\n\n      _this.addMouseEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.clientX, e.clientY]\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.clientX, e.clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      }\n    };\n\n    _this.onResize = function () {\n      (0, utils_1.translateThumbs)(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n\n      _this.calculateMarkOffsets();\n    };\n\n    _this.onTouchStartTrack = function (e) {\n      var _a;\n\n      e.persist();\n\n      _this.addTouchEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      }\n    };\n\n    _this.onMouseOrTouchStart = function (e) {\n      if (_this.props.disabled) return;\n      var isTouch = (0, utils_1.isTouchEvent)(e);\n      if (!isTouch && e.button !== 0) return;\n\n      var index = _this.getTargetIndex(e);\n\n      if (index === -1) return;\n\n      if (isTouch) {\n        _this.addTouchEvents(e);\n      } else {\n        _this.addMouseEvents(e);\n      }\n\n      _this.setState({\n        draggedThumbIndex: index,\n        thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n          if (i === index) {\n            return Math.max.apply(Math, _this.state.thumbZIndexes);\n          }\n\n          return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n        })\n      });\n    };\n\n    _this.onMouseMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.clientX, e.clientY);\n    };\n\n    _this.onTouchMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n    };\n\n    _this.onKeyDown = function (e) {\n      var _a = _this.props,\n          values = _a.values,\n          onChange = _a.onChange,\n          step = _a.step,\n          rtl = _a.rtl,\n          direction = _a.direction;\n      var isChanged = _this.state.isChanged;\n\n      var index = _this.getTargetIndex(e.nativeEvent);\n\n      var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down ? -1 : 1;\n      if (index === -1) return;\n\n      if (INCREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n      } else if (DECREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] - inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n      } else if (e.key === 'Tab') {\n        _this.setState({\n          draggedThumbIndex: -1\n        }, function () {\n          // If key pressed when thumb was moving, fire onFinalChange\n          if (isChanged) {\n            _this.fireOnFinalChange();\n          }\n        });\n      } else {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      }\n    };\n\n    _this.onKeyUp = function (e) {\n      var isChanged = _this.state.isChanged;\n\n      _this.setState({\n        draggedThumbIndex: -1\n      }, function () {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      });\n    };\n\n    _this.onMove = function (clientX, clientY) {\n      var _a = _this.state,\n          draggedThumbIndex = _a.draggedThumbIndex,\n          draggedTrackPos = _a.draggedTrackPos;\n      var _b = _this.props,\n          direction = _b.direction,\n          min = _b.min,\n          max = _b.max,\n          onChange = _b.onChange,\n          values = _b.values,\n          step = _b.step,\n          rtl = _b.rtl;\n      if (draggedThumbIndex === -1 && draggedTrackPos[0] === -1 && draggedTrackPos[1] === -1) return null;\n      var trackElement = _this.trackRef.current; // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n\n      if (!trackElement) return null;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackLength = (0, utils_1.isVertical)(direction) ? trackRect.height : trackRect.width;\n\n      if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n        // calculate how much it moved since the last update\n        var dX = clientX - draggedTrackPos[0];\n        var dY = clientY - draggedTrackPos[1]; // calculate the delta of the value\n\n        var deltaValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n          case types_1.Direction.Left:\n            deltaValue = dX / trackLength * (max - min);\n            break;\n\n          case types_1.Direction.Down:\n          case types_1.Direction.Up:\n            deltaValue = dY / trackLength * (max - min);\n            break;\n\n          default:\n            (0, utils_1.assertUnreachable)(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          deltaValue *= -1;\n        }\n\n        if (Math.abs(deltaValue) >= step / 2) {\n          // adjust delta so it fits into the range\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            if (values[i] === max && Math.sign(deltaValue) === 1 || values[i] === min && Math.sign(deltaValue) === -1) return;\n            var thumbValue = values[i] + deltaValue;\n            if (thumbValue > max) deltaValue = max - values[i];else if (thumbValue < min) deltaValue = min - values[i];\n          } // add the delta to each thumb\n\n\n          var newValues = values.slice(0);\n\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            newValues = (0, utils_1.replaceAt)(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n          }\n\n          _this.setState({\n            draggedTrackPos: [clientX, clientY]\n          });\n\n          onChange(newValues);\n        }\n      } else {\n        var newValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            newValue = (clientX - trackRect.left) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Left:\n            newValue = (trackLength - (clientX - trackRect.left)) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Down:\n            newValue = (clientY - trackRect.top) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Up:\n            newValue = (trackLength - (clientY - trackRect.top)) / trackLength * (max - min) + min;\n            break;\n\n          default:\n            (0, utils_1.assertUnreachable)(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          newValue = max + min - newValue;\n        }\n\n        if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n          onChange((0, utils_1.replaceAt)(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n        }\n      }\n    };\n\n    _this.normalizeValue = function (value, index) {\n      var _a = _this.props,\n          min = _a.min,\n          max = _a.max,\n          step = _a.step,\n          allowOverlap = _a.allowOverlap,\n          values = _a.values;\n      return (0, utils_1.normalizeValue)(value, index, min, max, step, allowOverlap, values);\n    };\n\n    _this.onEnd = function (e) {\n      e.preventDefault();\n      document.removeEventListener('mousemove', _this.schdOnMouseMove);\n      document.removeEventListener('touchmove', _this.schdOnTouchMove);\n      document.removeEventListener('mouseup', _this.schdOnEnd);\n      document.removeEventListener('touchend', _this.schdOnEnd);\n      document.removeEventListener('touchcancel', _this.schdOnEnd);\n      if (_this.state.draggedThumbIndex === -1 && _this.state.draggedTrackPos[0] === -1 && _this.state.draggedTrackPos[1] === -1) return null;\n\n      _this.setState({\n        draggedThumbIndex: -1,\n        draggedTrackPos: [-1, -1]\n      }, function () {\n        _this.fireOnFinalChange();\n      });\n    };\n\n    _this.fireOnFinalChange = function () {\n      _this.setState({\n        isChanged: false\n      });\n\n      var _a = _this.props,\n          onFinalChange = _a.onFinalChange,\n          values = _a.values;\n\n      if (onFinalChange) {\n        onFinalChange(values);\n      }\n    };\n\n    _this.updateMarkRefs = function (props) {\n      if (!props.renderMark) {\n        // don't create mark refs unless we are rendering marks\n        _this.numOfMarks = undefined;\n        _this.markRefs = undefined;\n        return;\n      }\n\n      _this.numOfMarks = (props.max - props.min) / _this.props.step;\n      _this.markRefs = [];\n\n      for (var i = 0; i < _this.numOfMarks + 1; i++) {\n        _this.markRefs[i] = React.createRef();\n      }\n    };\n\n    _this.calculateMarkOffsets = function () {\n      if (!_this.props.renderMark || !_this.trackRef || !_this.numOfMarks || !_this.markRefs || _this.trackRef.current === null) return;\n      var elStyles = window.getComputedStyle(_this.trackRef.current);\n      var trackWidth = parseInt(elStyles.width, 10);\n      var trackHeight = parseInt(elStyles.height, 10);\n      var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n      var paddingTop = parseInt(elStyles.paddingTop, 10);\n      var res = [];\n\n      for (var i = 0; i < _this.numOfMarks + 1; i++) {\n        var markHeight = 9999;\n        var markWidth = 9999;\n\n        if (_this.markRefs[i].current) {\n          var markRect = _this.markRefs[i].current.getBoundingClientRect();\n\n          markHeight = markRect.height;\n          markWidth = markRect.width;\n        }\n\n        if (_this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right) {\n          res.push([Math.round(trackWidth / _this.numOfMarks * i + paddingLeft - markWidth / 2), -Math.round((markHeight - trackHeight) / 2)]);\n        } else {\n          res.push([Math.round(trackHeight / _this.numOfMarks * i + paddingTop - markHeight / 2), -Math.round((markWidth - trackWidth) / 2)]);\n        }\n      }\n\n      _this.setState({\n        markOffsets: res\n      });\n    };\n\n    if (props.step === 0) {\n      throw new Error('\"step\" property should be a positive number');\n    }\n\n    _this.schdOnMouseMove = (0, utils_1.schd)(_this.onMouseMove);\n    _this.schdOnTouchMove = (0, utils_1.schd)(_this.onTouchMove);\n    _this.schdOnEnd = (0, utils_1.schd)(_this.onEnd);\n    _this.thumbRefs = props.values.map(function () {\n      return React.createRef();\n    });\n\n    _this.updateMarkRefs(props);\n\n    return _this;\n  }\n\n  Range.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var _a = this.props,\n        values = _a.values,\n        min = _a.min,\n        step = _a.step;\n    this.resizeObserver = window.ResizeObserver ? new window.ResizeObserver(this.onResize) : {\n      observe: function () {\n        return window.addEventListener('resize', _this.onResize);\n      },\n      unobserve: function () {\n        return window.removeEventListener('resize', _this.onResize);\n      }\n    };\n    document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    !this.props.allowOverlap && (0, utils_1.checkInitialOverlap)(this.props.values);\n    this.props.values.forEach(function (value) {\n      return (0, utils_1.checkBoundaries)(value, _this.props.min, _this.props.max);\n    });\n    this.resizeObserver.observe(this.trackRef.current);\n    (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), this.props.rtl);\n    this.calculateMarkOffsets();\n    values.forEach(function (value) {\n      if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n        console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n      }\n    });\n  };\n\n  Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        max = _a.max,\n        min = _a.min,\n        step = _a.step,\n        values = _a.values,\n        rtl = _a.rtl;\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step) {\n      this.updateMarkRefs(this.props);\n    }\n\n    (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), rtl); // ensure offsets are calculated when the refs for the marks have been created\n    // and those refs have been mounted to the dom\n    // on the state update in calculateOffsets with new markOffsets are calculated\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step || prevState.markOffsets.length !== this.state.markOffsets.length) {\n      this.calculateMarkOffsets();\n      values.forEach(function (value) {\n        if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n          console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n        }\n      });\n    }\n  };\n\n  Range.prototype.componentWillUnmount = function () {\n    var options = {\n      passive: false\n    };\n    document.removeEventListener('mousedown', this.onMouseOrTouchStart, options); // These need to be removed!!\n\n    document.removeEventListener('mousemove', this.schdOnMouseMove);\n    document.removeEventListener('touchmove', this.schdOnTouchMove);\n    document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n    document.removeEventListener('mouseup', this.schdOnEnd);\n    document.removeEventListener('touchend', this.schdOnEnd);\n    this.resizeObserver.unobserve(this.trackRef.current);\n  };\n\n  Range.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        renderTrack = _a.renderTrack,\n        renderThumb = _a.renderThumb,\n        _b = _a.renderMark,\n        renderMark = _b === void 0 ? function () {\n      return null;\n    } : _b,\n        values = _a.values,\n        min = _a.min,\n        max = _a.max,\n        allowOverlap = _a.allowOverlap,\n        disabled = _a.disabled;\n    var _c = this.state,\n        draggedThumbIndex = _c.draggedThumbIndex,\n        thumbZIndexes = _c.thumbZIndexes,\n        markOffsets = _c.markOffsets;\n    return renderTrack({\n      props: {\n        style: {\n          // creates stacking context that prevents z-index applied to thumbs\n          // interfere with other elements\n          transform: 'scale(1)',\n          cursor: draggedThumbIndex > -1 ? 'grabbing' : this.props.draggableTrack ? (0, utils_1.isVertical)(this.props.direction) ? 'ns-resize' : 'ew-resize' : values.length === 1 && !disabled ? 'pointer' : 'inherit'\n        },\n        onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n        onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n        ref: this.trackRef\n      },\n      isDragged: this.state.draggedThumbIndex > -1,\n      disabled: disabled,\n      children: __spreadArray(__spreadArray([], markOffsets.map(function (offset, index, arr) {\n        return renderMark({\n          props: {\n            style: _this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right ? {\n              position: 'absolute',\n              left: \"\".concat(offset[0], \"px\"),\n              marginTop: \"\".concat(offset[1], \"px\")\n            } : {\n              position: 'absolute',\n              top: \"\".concat(offset[0], \"px\"),\n              marginLeft: \"\".concat(offset[1], \"px\")\n            },\n            key: \"mark\".concat(index),\n            ref: _this.markRefs[index]\n          },\n          index: index\n        });\n      }), true), values.map(function (value, index) {\n        var isDragged = _this.state.draggedThumbIndex === index;\n        return renderThumb({\n          index: index,\n          value: value,\n          isDragged: isDragged,\n          props: {\n            style: {\n              position: 'absolute',\n              zIndex: thumbZIndexes[index],\n              cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n              userSelect: 'none',\n              touchAction: 'none',\n              WebkitUserSelect: 'none',\n              MozUserSelect: 'none',\n              msUserSelect: 'none'\n            },\n            key: index,\n            tabIndex: disabled ? undefined : 0,\n            'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n            'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n            'aria-valuenow': value,\n            draggable: false,\n            ref: _this.thumbRefs[index],\n            role: 'slider',\n            onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n            onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n          }\n        });\n      }), true)\n    });\n  };\n\n  Range.defaultProps = {\n    step: 1,\n    direction: types_1.Direction.Right,\n    rtl: false,\n    disabled: false,\n    allowOverlap: false,\n    draggableTrack: false,\n    min: 0,\n    max: 100\n  };\n  return Range;\n}(React.Component);\n\nexports.default = Range;","map":{"version":3,"sources":["C:/Users/zpili/Desktop/node_modules/react-range/lib/Range.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__createBinding","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__spreadArray","to","from","pack","arguments","length","i","l","ar","slice","concat","exports","React","require","utils_1","types_1","INCREASE_KEYS","DECREASE_KEYS","Range","_super","props","_this","trackRef","createRef","thumbRefs","state","draggedTrackPos","draggedThumbIndex","thumbZIndexes","values","fill","map","t","isChanged","markOffsets","getOffsets","_a","direction","min","max","trackElement","current","trackRect","getBoundingClientRect","trackPadding","getPaddingAndBorder","getThumbs","thumb","index","thumbOffsets","x","y","thumbRect","thumbMargins","getMargin","Direction","Right","left","height","top","width","relativeValue","Left","right","Up","Down","assertUnreachable","children","filter","el","hasAttribute","console","warn","getTargetIndex","e","findIndex","child","target","contains","addTouchEvents","document","addEventListener","schdOnTouchMove","passive","schdOnEnd","addMouseEvents","schdOnMouseMove","onMouseDownTrack","button","persist","preventDefault","nativeEvent","draggableTrack","some","thumbRef","setState","clientX","clientY","onMove","getClosestThumbIndex","focus","onResize","translateThumbs","rtl","calculateMarkOffsets","onTouchStartTrack","touches","onMouseOrTouchStart","disabled","isTouch","isTouchEvent","Math","apply","onMouseMove","onTouchMove","onKeyDown","onChange","step","inverter","includes","key","replaceAt","normalizeValue","fireOnFinalChange","onKeyUp","_b","trackLength","isVertical","dX","dY","deltaValue","abs","sign","thumbValue","newValues","newValue","allowOverlap","onEnd","removeEventListener","onFinalChange","updateMarkRefs","renderMark","numOfMarks","markRefs","elStyles","window","getComputedStyle","trackWidth","parseInt","trackHeight","paddingLeft","paddingTop","res","markHeight","markWidth","markRect","push","round","Error","schd","componentDidMount","resizeObserver","ResizeObserver","observe","unobserve","checkInitialOverlap","forEach","checkBoundaries","isStepDivisible","componentDidUpdate","prevProps","prevState","componentWillUnmount","options","render","renderTrack","renderThumb","_c","style","transform","cursor","onMouseDown","voidFn","onTouchStart","ref","isDragged","offset","arr","position","marginTop","marginLeft","zIndex","userSelect","touchAction","WebkitUserSelect","MozUserSelect","msUserSelect","tabIndex","draggable","role","defaultProps","Component","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: []\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = (0, utils_1.getPaddingAndBorder)(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = (0, utils_1.getMargin)(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return (0, utils_1.assertUnreachable)(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute('aria-valuenow');\n                });\n            }\n            console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener('touchmove', _this.schdOnTouchMove, {\n                passive: false\n            });\n            document.addEventListener('touchend', _this.schdOnEnd, {\n                passive: false\n            });\n            document.addEventListener('touchcancel', _this.schdOnEnd, {\n                passive: false\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener('mousemove', _this.schdOnMouseMove);\n            document.addEventListener('mouseup', _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0)\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY]\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            (0, utils_1.translateThumbs)(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = (0, utils_1.isTouchEvent)(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                })\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl, direction = _a.direction;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down\n                ? -1\n                : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n            }\n            else if (e.key === 'Tab') {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = (0, utils_1.isVertical)(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = (0, utils_1.replaceAt)(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY]\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange((0, utils_1.replaceAt)(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return (0, utils_1.normalizeValue)(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener('mousemove', _this.schdOnMouseMove);\n            document.removeEventListener('touchmove', _this.schdOnTouchMove);\n            document.removeEventListener('mouseup', _this.schdOnEnd);\n            document.removeEventListener('touchend', _this.schdOnEnd);\n            document.removeEventListener('touchcancel', _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.updateMarkRefs = function (props) {\n            if (!props.renderMark) { // don't create mark refs unless we are rendering marks\n                _this.numOfMarks = undefined;\n                _this.markRefs = undefined;\n                return;\n            }\n            _this.numOfMarks = (props.max - props.min) / _this.props.step;\n            _this.markRefs = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                _this.markRefs[i] = React.createRef();\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                !_this.numOfMarks ||\n                !_this.markRefs ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2)\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2)\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.schdOnMouseMove = (0, utils_1.schd)(_this.onMouseMove);\n        _this.schdOnTouchMove = (0, utils_1.schd)(_this.onTouchMove);\n        _this.schdOnEnd = (0, utils_1.schd)(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        _this.updateMarkRefs(props);\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener('resize', _this.onResize); },\n                unobserve: function () { return window.removeEventListener('resize', _this.onResize); }\n            };\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        !this.props.allowOverlap && (0, utils_1.checkInitialOverlap)(this.props.values);\n        this.props.values.forEach(function (value) {\n            return (0, utils_1.checkBoundaries)(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.updateMarkRefs(this.props);\n        }\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                    console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false\n        };\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener('mousemove', this.schdOnMouseMove);\n        document.removeEventListener('touchmove', this.schdOnTouchMove);\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mouseup', this.schdOnEnd);\n        document.removeEventListener('touchend', this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: 'scale(1)',\n                    cursor: draggedThumbIndex > -1\n                        ? 'grabbing'\n                        : this.props.draggableTrack\n                            ? (0, utils_1.isVertical)(this.props.direction)\n                                ? 'ns-resize'\n                                : 'ew-resize'\n                            : values.length === 1 && !disabled\n                                ? 'pointer'\n                                : 'inherit'\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArray(__spreadArray([], markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: 'absolute',\n                                left: \"\".concat(offset[0], \"px\"),\n                                marginTop: \"\".concat(offset[1], \"px\")\n                            }\n                            : {\n                                position: 'absolute',\n                                top: \"\".concat(offset[0], \"px\"),\n                                marginLeft: \"\".concat(offset[1], \"px\")\n                            },\n                        key: \"mark\".concat(index),\n                        ref: _this.markRefs[index]\n                    },\n                    index: index\n                });\n            }), true), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: 'absolute',\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n                            userSelect: 'none',\n                            touchAction: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n                        'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n                        'aria-valuenow': value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        role: 'slider',\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n                    }\n                });\n            }), true)\n        });\n    };\n    Range.defaultProps = {\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n"]},"metadata":{},"sourceType":"script"}