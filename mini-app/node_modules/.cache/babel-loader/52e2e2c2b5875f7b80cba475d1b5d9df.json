{"ast":null,"code":"import VerificationStar from\"img/verificationStar.svg\";import InactiveStarSmall from\"components/InactiveStarSmall\";import ActiveStarSmall from\"components/ActiveStarSmall\";import{Rating}from\"react-simple-star-rating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CommentsItem(_ref){var _comment$createdAt;var index=_ref.index,comment=_ref.comment,handleComment=_ref.handleComment,group=_ref.group,setTextReply=_ref.setTextReply,handleBlockComment=_ref.handleBlockComment,messagesIdMass=_ref.messagesIdMass,chosenGroup=_ref.chosenGroup,setEditText=_ref.setEditText,getDate=_ref.getDate;return/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:comment.displayPhoto,className:\"comments__item-avatar-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-other\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-name\",children:comment.displayName}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-dateAndRate\",children:[/*#__PURE__*/_jsx(Rating,{size:16,readonly:true,initialValue:comment.rating,emptyIcon:/*#__PURE__*/_jsx(InactiveStarSmall,{}),fillIcon:/*#__PURE__*/_jsx(ActiveStarSmall,{color:comment===null||comment===void 0?void 0:comment.rating})}),/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-date\",children:getDate((_comment$createdAt=comment.createdAt)===null||_comment$createdAt===void 0?void 0:_comment$createdAt.seconds)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-text\",children:comment.text.length>250?comment.text.slice(0,250)+\"...\":comment.text}),comment.text.length>250&&/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-text-more\",onClick:function onClick(){return handleComment(event,comment.text);},children:\"\\u0427\\u0438\\u0442\\u0430\\u0442\\u044C \\u0434\\u0430\\u043B\\u044C\\u0448\\u0435\"})]})]}),comment.reply?/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-reply-wrap\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"comments__item-reply-avatar\",src:group===null||group===void 0?void 0:group.photo_50}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-reply\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comments__item-reply-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-title-text\",children:\"Ответ \"+(group===null||group===void 0?void 0:group.screen_name)}),/*#__PURE__*/_jsx(\"img\",{src:VerificationStar,className:\"comments__item-reply-title-img\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-reply-text\",children:comment.reply})]})]}):\"\",(chosenGroup===null||chosenGroup===void 0?void 0:chosenGroup.id)==(group===null||group===void 0?void 0:group.id)&&!comment.reply?/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-reply-btn\",onClick:function onClick(e){setTextReply(e.target.id);handleBlockComment();},id:messagesIdMass.length>1?messagesIdMass[index]:undefined,children:\"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0438\\u0442\\u044C\"}):(chosenGroup===null||chosenGroup===void 0?void 0:chosenGroup.id)==(group===null||group===void 0?void 0:group.id)&&comment.reply&&/*#__PURE__*/_jsx(\"div\",{className:\"comments__item-reply-btn change\",onClick:function onClick(e){setTextReply(e.target.id);handleBlockComment();setEditText(comment.reply);},id:messagesIdMass.length>1?messagesIdMass[index]:undefined,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043E\\u0442\\u0432\\u0435\\u0442\"})]},index);}export default CommentsItem;","map":{"version":3,"names":["InactiveStarSmall","ActiveStarSmall","Rating","CommentsItem","index","comment","handleComment","group","setTextReply","handleBlockComment","messagesIdMass","chosenGroup","setEditText","getDate","displayPhoto","displayName","rating","createdAt","seconds","text","length","slice","event","reply","photo_50","screen_name","VerificationStar","id","e","target","undefined"],"sources":["C:/Users/zpili/Desktop/Finbox-VK-mini-apps/mini-app/src/components/CommentsItem.js"],"sourcesContent":["import VerificationStar from \"img/verificationStar.svg\";\r\nimport InactiveStarSmall from \"components/InactiveStarSmall\";\r\nimport ActiveStarSmall from \"components/ActiveStarSmall\";\r\nimport { Rating } from \"react-simple-star-rating\";\r\n\r\nfunction CommentsItem({\r\n  index,\r\n  comment,\r\n  handleComment,\r\n  group,\r\n  setTextReply,\r\n  handleBlockComment,\r\n  messagesIdMass,\r\n  chosenGroup,\r\n  setEditText,\r\n  getDate,\r\n}) {\r\n  return (\r\n    <div className=\"comments__item-wrap\" key={index}>\r\n      <div className=\"comments__item\">\r\n        <div className=\"comments__item-avatar\">\r\n          <img\r\n            src={comment.displayPhoto}\r\n            className=\"comments__item-avatar-img\"\r\n          />\r\n        </div>\r\n        <div className=\"comments__item-other\">\r\n          <div className=\"comments__item-name\">{comment.displayName}</div>\r\n          <div className=\"comments__item-dateAndRate\">\r\n            <Rating\r\n              size={16}\r\n              readonly\r\n              initialValue={comment.rating}\r\n              emptyIcon={<InactiveStarSmall />}\r\n              fillIcon={<ActiveStarSmall color={comment?.rating} />}\r\n            />\r\n            <div className=\"comments__item-date\">\r\n              {getDate(comment.createdAt?.seconds)}\r\n            </div>\r\n          </div>\r\n          <div className=\"comments__item-text\">\r\n            {comment.text.length > 250\r\n              ? comment.text.slice(0, 250) + \"...\"\r\n              : comment.text}\r\n          </div>\r\n          {comment.text.length > 250 && (\r\n            <div\r\n              className=\"comments__item-text-more\"\r\n              onClick={() => handleComment(event, comment.text)}\r\n            >\r\n              Читать дальше\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {comment.reply ? (\r\n        <div className=\"comments__item-reply-wrap\">\r\n          <img className=\"comments__item-reply-avatar\" src={group?.photo_50} />\r\n          <div className=\"comments__item-reply\">\r\n            <div className=\"comments__item-reply-title\">\r\n              <div className=\"comments__item-title-text\">\r\n                {\"Ответ \" + group?.screen_name}\r\n              </div>\r\n              <img\r\n                src={VerificationStar}\r\n                className=\"comments__item-reply-title-img\"\r\n              />\r\n            </div>\r\n            <div className=\"comments__item-reply-text\">{comment.reply}</div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {chosenGroup?.id == group?.id && !comment.reply ? (\r\n        <div\r\n          className=\"comments__item-reply-btn\"\r\n          onClick={(e) => {\r\n            setTextReply(e.target.id);\r\n            handleBlockComment();\r\n          }}\r\n          id={messagesIdMass.length > 1 ? messagesIdMass[index] : undefined}\r\n        >\r\n          Ответить\r\n        </div>\r\n      ) : (\r\n        chosenGroup?.id == group?.id &&\r\n        comment.reply && (\r\n          <div\r\n            className=\"comments__item-reply-btn change\"\r\n            onClick={(e) => {\r\n              setTextReply(e.target.id);\r\n              handleBlockComment();\r\n              setEditText(comment.reply);\r\n            }}\r\n            id={messagesIdMass.length > 1 ? messagesIdMass[index] : undefined}\r\n          >\r\n            Изменить ответ\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default CommentsItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}